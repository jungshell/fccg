var te=Object.defineProperty,re=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var _=(o,e,t)=>e in o?te(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,f=(o,e)=>{for(var t in e||(e={}))oe.call(e,t)&&_(o,t,e[t]);if(K)for(var t of K(e))ae.call(e,t)&&_(o,t,e[t]);return o},x=(o,e)=>re(o,se(e));var ne=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var g=(o,e,t)=>_(o,typeof e!="symbol"?e+"":e,t);var d=(o,e,t)=>new Promise((r,s)=>{var n=c=>{try{l(t.next(c))}catch(h){s(h)}},i=c=>{try{l(t.throw(c))}catch(h){s(h)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(n,i);l((t=t.apply(o,e)).next())});import{r as p,j as a,at as ie,V as O,A as ce,b as le,B as k,a4 as $,T as b,l as j,m as J,a3 as z,au as X,H as A,n as T,av as F,$ as de,e as D,aw as ue,as as Q,I as me,s as he,t as pe,p as fe,R as P,ax as ge,ay as ye}from"./chakra-BcC6TOEp.js";import{a as be,g as xe}from"./vendor-oOSsakeb.js";import{F as Se,b as U,c as we,e as ve,u as R,f as ke,M as je,S as Ce,P as Ee,V as Ie,A as Ae}from"./pages-BYpSsNsE.js";import{H as Oe,L as De,S as Be}from"./components-DQYM1R62.js";import{B as ze,a as Ne,R as Re,b as v,N as Z}from"./router-C47EFJdC.js";import"./state-D9RA7dEJ.js";var ct=ne(S=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();var M={},V;function Le(){if(V)return M;V=1;var o=be();return M.createRoot=o.createRoot,M.hydrateRoot=o.hydrateRoot,M}var Me=Le();const Te=xe(Me);class Pe extends p.Component{constructor(t){super(t);g(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.reload()});g(this,"handleGoHome",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.logErrorToService(t,r),this.setState({error:t,errorInfo:r})}logErrorToService(t,r){const s={message:t.message,stack:t.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};try{const n=JSON.parse(localStorage.getItem("errorLogs")||"[]");n.push(s),localStorage.setItem("errorLogs",JSON.stringify(n.slice(-10)))}catch(n){console.error("Failed to save error log:",n)}}render(){return this.state.hasError?a.jsx(ie,{maxW:"container.md",py:10,children:a.jsxs(O,{spacing:6,align:"center",children:[a.jsxs(ce,{status:"error",borderRadius:"md",children:[a.jsx(le,{}),a.jsxs(k,{children:[a.jsx($,{size:"md",mb:2,children:"Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),a.jsx(b,{fontSize:"sm",children:"Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóêÏÑú ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."})]})]}),a.jsxs(k,{textAlign:"center",children:[a.jsx($,{size:"lg",color:"red.500",mb:4,children:"üòï Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),a.jsx(b,{color:"gray.600",mb:6,children:"Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÍ±∞ÎÇò ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÏÑú Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî."}),a.jsxs(O,{spacing:3,children:[a.jsx(j,{colorScheme:"blue",onClick:this.handleRetry,size:"lg",w:"200px",children:"üîÑ Îã§Ïãú ÏãúÎèÑ"}),a.jsx(j,{variant:"outline",onClick:this.handleGoHome,size:"lg",w:"200px",children:"üè† ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"})]})]}),!1]})}):this.props.children}}const _e=p.createContext(void 0),He=({children:o})=>{const[e,t]=p.useState(!1),[r,s]=p.useState(!1),[n,i]=p.useState(!1);p.useEffect(()=>{const u=localStorage.getItem("highContrast")==="true",w=localStorage.getItem("reducedMotion")==="true";t(u),s(w)},[]);const l=()=>{const u=!e;t(u),localStorage.setItem("highContrast",u.toString()),u?(document.documentElement.style.setProperty("--chakra-colors-gray-100","#000000"),document.documentElement.style.setProperty("--chakra-colors-gray-800","#ffffff")):(document.documentElement.style.removeProperty("--chakra-colors-gray-100"),document.documentElement.style.removeProperty("--chakra-colors-gray-800"))},c=()=>{const u=!r;s(u),localStorage.setItem("reducedMotion",u.toString()),u?(document.documentElement.style.setProperty("--chakra-transition-duration-fast","0s"),document.documentElement.style.setProperty("--chakra-transition-duration-normal","0s"),document.documentElement.style.setProperty("--chakra-transition-duration-slow","0s")):(document.documentElement.style.removeProperty("--chakra-transition-duration-fast"),document.documentElement.style.removeProperty("--chakra-transition-duration-normal"),document.documentElement.style.removeProperty("--chakra-transition-duration-slow"))};p.useEffect(()=>{const u=m=>{m.key==="Tab"&&i(!0)},w=()=>{i(!1)};return document.addEventListener("keydown",u),document.addEventListener("mousedown",w),()=>{document.removeEventListener("keydown",u),document.removeEventListener("mousedown",w)}},[]),p.useEffect(()=>{const u=document.createElement("a");return u.href="#main-content",u.textContent="Î©îÏù∏ ÏΩòÌÖêÏ∏†Î°ú Í±¥ÎÑàÎõ∞Í∏∞",u.style.cssText=`
      position: absolute;
      top: -40px;
      left: 6px;
      z-index: 10000;
      padding: 8px 16px;
      background: #004ea8;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-weight: bold;
    `,u.addEventListener("focus",()=>{u.style.top="6px"}),u.addEventListener("blur",()=>{u.style.top="-40px"}),document.body.insertBefore(u,document.body.firstChild),()=>{u.parentNode&&u.parentNode.removeChild(u)}},[]);const h={isHighContrast:e,toggleHighContrast:l,isReducedMotion:r,toggleReducedMotion:c,focusVisible:n,setFocusVisible:i};return a.jsx(_e.Provider,{value:h,children:o})};var We={};const ee=()=>{const[o,e]=p.useState({isInstalled:!1,isInstallable:!1,isOnline:navigator.onLine,isServiceWorkerReady:!1,isPushSupported:"serviceWorker"in navigator&&"PushManager"in window,isNotificationSupported:"Notification"in window}),[t,r]=p.useState(null),s=J(),n=p.useCallback(()=>d(null,null,function*(){if("serviceWorker"in navigator)try{const m=yield navigator.serviceWorker.register("/sw.js");return console.log("Service Worker Îì±Î°ù ÏÑ±Í≥µ:",m),e(y=>x(f({},y),{isServiceWorkerReady:!0})),m.addEventListener("updatefound",()=>{const y=m.installing;y&&y.addEventListener("statechange",()=>{y.state==="installed"&&navigator.serviceWorker.controller&&s({title:"ÏÉàÎ°úÏö¥ ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÏûàÏäµÎãàÎã§",description:"ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÏó¨ ÏµúÏã† Î≤ÑÏ†ÑÏùÑ ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",status:"info",duration:5e3,isClosable:!0})})}),m}catch(m){return console.error("Service Worker Îì±Î°ù Ïã§Ìå®:",m),null}return null}),[s]),i=p.useCallback(m=>{m.preventDefault(),r(m),e(y=>x(f({},y),{isInstallable:!0})),s({title:"Ïï± ÏÑ§Ïπò Í∞ÄÎä•",description:"Ìôà ÌôîÎ©¥Ïóê FC CG Ïï±ÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§.",status:"info",duration:8e3,isClosable:!0})},[s]),l=p.useCallback(()=>d(null,null,function*(){if(!t)return s({title:"ÏÑ§Ïπò Î∂àÍ∞Ä",description:"Ïï±ÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏóÜÏäµÎãàÎã§.",status:"error",duration:3e3,isClosable:!0}),!1;try{yield t.prompt();const{outcome:m}=yield t.userChoice;return m==="accepted"?(e(y=>x(f({},y),{isInstalled:!0,isInstallable:!1})),s({title:"ÏÑ§Ïπò ÏôÑÎ£å",description:"FC CG Ïï±Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÑ§ÏπòÎêòÏóàÏäµÎãàÎã§!",status:"success",duration:5e3,isClosable:!0}),r(null),!0):(s({title:"ÏÑ§Ïπò Ï∑®ÏÜå",description:"Ïï± ÏÑ§ÏπòÍ∞Ä Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§.",status:"warning",duration:3e3,isClosable:!0}),!1)}catch(m){return console.error("Ïï± ÏÑ§Ïπò Ïã§Ìå®:",m),s({title:"ÏÑ§Ïπò Ïã§Ìå®",description:"Ïï± ÏÑ§Ïπò Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",status:"error",duration:3e3,isClosable:!0}),!1}}),[t,s]),c=p.useCallback(()=>d(null,null,function*(){if(!o.isPushSupported)return s({title:"ÏßÄÏõêÎêòÏßÄ ÏïäÏùå",description:"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî Ìë∏Ïãú ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.",status:"warning",duration:3e3,isClosable:!0}),!1;try{return(yield Notification.requestPermission())==="granted"?(s({title:"ÏïåÎ¶º Í∂åÌïú ÌóàÏö©",description:"Ìë∏Ïãú ÏïåÎ¶ºÏùÑ Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§.",status:"success",duration:3e3,isClosable:!0}),!0):(s({title:"ÏïåÎ¶º Í∂åÌïú Í±∞Î∂Ä",description:"ÏÑ§Ï†ïÏóêÏÑú ÏïåÎ¶º Í∂åÌïúÏùÑ ÌóàÏö©Ìï¥Ï£ºÏÑ∏Ïöî.",status:"warning",duration:5e3,isClosable:!0}),!1)}catch(m){return console.error("ÏïåÎ¶º Í∂åÌïú ÏöîÏ≤≠ Ïã§Ìå®:",m),!1}}),[o.isPushSupported,s]),h=p.useCallback(()=>d(null,null,function*(){if(!o.isPushSupported||!o.isServiceWorkerReady)return!1;try{const y=yield(yield navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:We.REACT_APP_VAPID_PUBLIC_KEY});return console.log("Ìë∏Ïãú ÏïåÎ¶º Íµ¨ÎèÖ ÏÑ±Í≥µ:",y),yield fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),s({title:"Ìë∏Ïãú ÏïåÎ¶º Íµ¨ÎèÖ ÏôÑÎ£å",description:"ÏÉàÎ°úÏö¥ ÏïåÎ¶ºÏùÑ Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§.",status:"success",duration:3e3,isClosable:!0}),!0}catch(m){return console.error("Ìë∏Ïãú ÏïåÎ¶º Íµ¨ÎèÖ Ïã§Ìå®:",m),s({title:"Íµ¨ÎèÖ Ïã§Ìå®",description:"Ìë∏Ïãú ÏïåÎ¶º Íµ¨ÎèÖÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",status:"error",duration:3e3,isClosable:!0}),!1}}),[o.isPushSupported,o.isServiceWorkerReady,s]),u=p.useCallback(()=>d(null,null,function*(){if(!o.isServiceWorkerReady)return!1;try{return yield(yield navigator.serviceWorker.ready).sync.register("background-sync"),s({title:"ÎèôÍ∏∞Ìôî ÏãúÏûë",description:"Ïò§ÌîÑÎùºÏù∏ Îç∞Ïù¥ÌÑ∞Î•º ÎèôÍ∏∞ÌôîÌï©ÎãàÎã§.",status:"info",duration:3e3,isClosable:!0}),!0}catch(m){return console.error("Î∞±Í∑∏ÎùºÏö¥Îìú ÎèôÍ∏∞Ìôî Ïã§Ìå®:",m),!1}}),[o.isServiceWorkerReady,s]),w=p.useCallback(()=>d(null,null,function*(){if(!o.isServiceWorkerReady)return!1;try{return yield(yield navigator.serviceWorker.ready).update(),s({title:"ÏóÖÎç∞Ïù¥Ìä∏ ÌôïÏù∏",description:"Ïï± ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌôïÏù∏ÌñàÏäµÎãàÎã§.",status:"info",duration:3e3,isClosable:!0}),!0}catch(m){return console.error("ÏóÖÎç∞Ïù¥Ìä∏ ÌôïÏù∏ Ïã§Ìå®:",m),!1}}),[o.isServiceWorkerReady,s]);return p.useEffect(()=>{n(),window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",()=>{e(C=>x(f({},C),{isInstalled:!0,isInstallable:!1})),r(null)});const m=()=>e(C=>x(f({},C),{isOnline:!0})),y=()=>e(C=>x(f({},C),{isOnline:!1}));return window.addEventListener("online",m),window.addEventListener("offline",y),window.matchMedia("(display-mode: standalone)").matches&&e(C=>x(f({},C),{isInstalled:!0})),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("online",m),window.removeEventListener("offline",y)}},[n,i]),x(f({},o),{installApp:l,requestNotificationPermission:c,subscribeToPushNotifications:h,syncOfflineData:u,checkForUpdates:w})},Je=({onClose:o,showNotification:e=!0})=>{const{isInstallable:t,isInstalled:r,isOnline:s,isServiceWorkerReady:n,isPushSupported:i,installApp:l,requestNotificationPermission:c,syncOfflineData:h}=ee(),u=z("white","gray.800"),w=z("gray.200","gray.700"),m=z("gray.800","white");return!t||r?null:a.jsx(X,{in:t,offsetY:"20px",children:a.jsx(k,{position:"fixed",bottom:4,left:4,right:4,bg:u,border:"1px solid",borderColor:w,borderRadius:"lg",boxShadow:"lg",p:4,zIndex:1e3,maxW:"400px",mx:"auto",children:a.jsxs(O,{spacing:3,align:"stretch",children:[a.jsxs(A,{justify:"space-between",align:"center",children:[a.jsxs(A,{spacing:2,children:[a.jsx(T,{as:F,color:"blue.500"}),a.jsx(b,{fontWeight:"bold",color:m,children:"FC CG Ïï± ÏÑ§Ïπò"})]}),o&&a.jsx(j,{size:"sm",variant:"ghost",onClick:o,"aria-label":"Îã´Í∏∞",children:a.jsx(T,{as:de})})]}),a.jsx(b,{fontSize:"sm",color:m,opacity:.8,children:"Ìôà ÌôîÎ©¥Ïóê FC CG Ïï±ÏùÑ ÏÑ§ÏπòÌïòÏó¨ Îçî Îπ†Î•¥Í≥† Ìé∏Î¶¨ÌïòÍ≤å ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî."}),a.jsxs(A,{spacing:2,wrap:"wrap",children:[a.jsx(D,{colorScheme:s?"green":"red",variant:"subtle",fontSize:"xs",children:s?"Ïò®ÎùºÏù∏":"Ïò§ÌîÑÎùºÏù∏"}),n&&a.jsx(D,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:"Ïò§ÌîÑÎùºÏù∏ ÏßÄÏõê"}),i&&a.jsx(D,{colorScheme:"purple",variant:"subtle",fontSize:"xs",children:"Ìë∏Ïãú ÏïåÎ¶º"})]}),a.jsxs(O,{spacing:2,children:[a.jsx(j,{colorScheme:"blue",size:"sm",width:"full",onClick:l,leftIcon:a.jsx(F,{}),children:"Ïï± ÏÑ§ÏπòÌïòÍ∏∞"}),a.jsxs(A,{spacing:2,width:"full",children:[i&&a.jsx(j,{variant:"outline",size:"sm",flex:1,onClick:c,leftIcon:a.jsx(ue,{}),children:"ÏïåÎ¶º ÏÑ§Ï†ï"}),n&&a.jsx(j,{variant:"outline",size:"sm",flex:1,onClick:h,leftIcon:a.jsx(Q,{}),children:"ÎèôÍ∏∞Ìôî"})]})]}),a.jsxs(k,{bg:z("gray.50","gray.700"),p:3,borderRadius:"md",fontSize:"xs",color:m,opacity:.7,children:[a.jsx(b,{fontWeight:"bold",mb:1,children:"ÏÑ§Ïπò ÌõÑ ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Í∏∞Îä•:"}),a.jsxs(O,{align:"start",spacing:1,children:[a.jsx(b,{children:"‚Ä¢ Ìôà ÌôîÎ©¥ÏóêÏÑú Î∞îÎ°ú Ïã§Ìñâ"}),a.jsx(b,{children:"‚Ä¢ Ïò§ÌîÑÎùºÏù∏ÏóêÏÑúÎèÑ Í∏∞Î≥∏ Í∏∞Îä• ÏÇ¨Ïö©"}),a.jsx(b,{children:"‚Ä¢ Ìë∏Ïãú ÏïåÎ¶ºÏúºÎ°ú Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏"}),a.jsx(b,{children:"‚Ä¢ ÎÑ§Ïù¥Ìã∞Î∏å Ïï±Í≥º Í∞ôÏùÄ Í≤ΩÌóò"})]})]})]})})})},Ke=()=>{const{isInstalled:o,isOnline:e,isServiceWorkerReady:t,isPushSupported:r,checkForUpdates:s}=ee(),n=z("white","gray.800"),i=z("gray.200","gray.700");return o?a.jsx(k,{position:"fixed",top:4,right:4,bg:n,border:"1px solid",borderColor:i,borderRadius:"md",p:2,zIndex:999,boxShadow:"sm",children:a.jsxs(A,{spacing:2,children:[a.jsx(D,{colorScheme:e?"green":"red",variant:"subtle",fontSize:"xs",children:e?"Ïò®ÎùºÏù∏":"Ïò§ÌîÑÎùºÏù∏"}),t&&a.jsx(D,{colorScheme:"blue",variant:"subtle",fontSize:"xs",children:"SW"}),r&&a.jsx(D,{colorScheme:"purple",variant:"subtle",fontSize:"xs",children:"Ìë∏Ïãú"}),a.jsx(j,{size:"xs",variant:"ghost",onClick:s,"aria-label":"ÏóÖÎç∞Ïù¥Ìä∏ ÌôïÏù∏",children:a.jsx(T,{as:Q})})]})}):null},$e=({notification:o,onClose:e})=>{const[t,r]=p.useState(!0);J(),p.useEffect(()=>{const c=setTimeout(()=>{r(!1),setTimeout(()=>e(o.id),300)},1e4);return()=>clearTimeout(c)},[o.id,e]);const s=()=>{r(!1),setTimeout(()=>e(o.id),300)},n=c=>{switch(c){case"GAME_REMINDER":return U;case"VOTE_REMINDER":return ve;case"NEW_MEMBER":return we;default:return U}},i=c=>{switch(c){case"GAME_REMINDER":return"blue";case"VOTE_REMINDER":return"purple";case"NEW_MEMBER":return"green";case"GAME_RESULT":return"orange";default:return"gray"}},l=c=>{switch(c){case"GAME_REMINDER":return"Í≤ΩÍ∏∞ÏïåÎ¶º";case"VOTE_REMINDER":return"Ìà¨ÌëúÏïåÎ¶º";case"NEW_MEMBER":return"Ïã†Í∑úÌöåÏõê";case"GAME_RESULT":return"Í≤ΩÍ∏∞Í≤∞Í≥º";default:return"ÏïåÎ¶º"}};return t?a.jsx(X,{in:t,offsetY:"20px",children:a.jsx(k,{position:"fixed",top:"20px",right:"20px",zIndex:9999,w:"400px",maxW:"90vw",bg:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",boxShadow:"lg",p:4,_hover:{boxShadow:"xl"},transition:"all 0.2s",children:a.jsxs(O,{spacing:3,align:"stretch",children:[a.jsxs(A,{justify:"space-between",align:"flex-start",children:[a.jsxs(A,{spacing:2,flex:1,children:[a.jsx(T,{as:n(o.type),color:`${i(o.type)}.500`,boxSize:5}),a.jsx(D,{colorScheme:i(o.type),size:"sm",variant:"subtle",children:l(o.type)})]}),a.jsx(me,{"aria-label":"ÏïåÎ¶º Îã´Í∏∞",icon:a.jsx(Se,{}),size:"sm",variant:"ghost",onClick:s,color:"gray.500",_hover:{bg:"gray.100"}})]}),a.jsxs(O,{spacing:2,align:"stretch",children:[a.jsx(b,{fontSize:"md",fontWeight:"bold",color:"gray.800",children:o.title}),a.jsx(b,{fontSize:"sm",color:"gray.600",lineHeight:"1.4",children:o.message}),a.jsx(b,{fontSize:"xs",color:"gray.400",children:new Date(o.timestamp).toLocaleString("ko-KR")})]})]})})}):null},Fe=({userId:o})=>{const[e,t]=p.useState([]);p.useEffect(()=>{const n=()=>{try{const l=localStorage.getItem(`userNotifications_${o}`);if(l){const c=JSON.parse(l);t(c.filter(h=>new Date(h.timestamp)>new Date(Date.now()-864e5)))}}catch(l){console.error("ÏÇ¨Ïö©Ïûê ÏïåÎ¶º Î°úÎìú Ïã§Ìå®:",l)}},i=l=>{const{notification:c}=l.detail;if(c.recipients.includes(o)){const h={id:c.id,type:c.type,title:c.title,message:c.message,timestamp:c.sentAt};t(w=>[h,...w]);const u=[h,...e];localStorage.setItem(`userNotifications_${o}`,JSON.stringify(u))}};return window.addEventListener("notification-received",i),n(),()=>{window.removeEventListener("notification-received",i)}},[o]);const r=n=>{t(l=>l.filter(c=>c.id!==n));const i=e.filter(l=>l.id!==n);localStorage.setItem(`userNotifications_${o}`,JSON.stringify(i))},s=e.slice(0,3);return a.jsx(a.Fragment,{children:s.map(n=>a.jsx($e,{notification:n,onClose:r},n.id))})};function Ue(){const o=R(h=>h.user),e=R(h=>h.token),t=R(h=>h.setUser),[r,s]=p.useState((o==null?void 0:o.name)||""),[n,i]=p.useState(!1),l=J();if(!o||!e)return a.jsx(k,{p:8,textAlign:"center",children:"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§."});const c=()=>d(null,null,function*(){i(!0);try{const h=yield ke(e,{name:r});t(h),l({title:"Ïù¥Î¶ÑÏù¥ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.",status:"success",duration:2e3})}catch(h){l({title:"Ïù¥Î¶Ñ ÏàòÏ†ï Ïã§Ìå®",status:"error",duration:2e3})}finally{i(!1)}});return a.jsxs(k,{maxW:"400px",mx:"auto",mt:12,p:8,bg:"white",borderRadius:"lg",boxShadow:"md",children:[a.jsx(b,{fontWeight:"bold",fontSize:"xl",mb:6,children:"ÎÇ¥ Ï†ïÎ≥¥ ÏàòÏ†ï"}),a.jsxs(he,{mb:4,children:[a.jsx(pe,{children:"Ïù¥Î¶Ñ"}),a.jsx(fe,{value:r,onChange:h=>s(h.target.value),placeholder:"Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"})]}),a.jsx(j,{colorScheme:"blue",w:"full",onClick:c,isLoading:n,isDisabled:!r.trim()||r===o.name,children:"Ï†ÄÏû•"})]})}var Ve={};const G=(o,e)=>{typeof window!="undefined"&&window.gtag&&window.gtag("config",Ve.REACT_APP_GA_MEASUREMENT_ID,{page_title:e||document.title,page_location:window.location.href,page_path:o})},E=class E{constructor(){g(this,"masterKey",null);g(this,"sessionKey",null);this.initializeKeys()}static getInstance(){return E.instance||(E.instance=new E),E.instance}initializeKeys(){return d(this,null,function*(){const e=yield this.getDeviceId();this.masterKey=yield this.generateKey(e),this.sessionKey=yield this.generateKey(Date.now().toString())})}getDeviceId(){return d(this,null,function*(){const e=document.createElement("canvas"),t=e.getContext("2d");t&&(t.textBaseline="top",t.font="14px Arial",t.fillText("Device fingerprint",2,2));const r=e.toDataURL(),s=navigator.userAgent,n=`${screen.width}x${screen.height}x${screen.colorDepth}`,i=`${r}-${s}-${n}`;return yield this.sha256(i)})}sha256(e){return d(this,null,function*(){const t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")})}generateKey(e){return d(this,null,function*(){const t=new TextEncoder,r=t.encode(e),s=yield crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),n=yield crypto.subtle.deriveBits({name:"PBKDF2",salt:t.encode("fc-cg-salt"),iterations:1e5,hash:"SHA-256"},s,256);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")})}encrypt(e,t="session"){return d(this,null,function*(){const r=t==="master"?this.masterKey:this.sessionKey;if(!r)throw new Error("ÏïîÌò∏Ìôî ÌÇ§Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.");const s=new TextEncoder,n=s.encode(e),i=crypto.getRandomValues(new Uint8Array(12)),l=yield crypto.subtle.importKey("raw",s.encode(r),{name:"AES-GCM"},!1,["encrypt"]),c=yield crypto.subtle.encrypt({name:"AES-GCM",iv:i},l,n),h=new Uint8Array(c),u=new Uint8Array(i.length+h.length);return u.set(i),u.set(h,i.length),btoa(String.fromCharCode(...u))})}decrypt(e,t="session"){return d(this,null,function*(){const r=t==="master"?this.masterKey:this.sessionKey;if(!r)throw new Error("ÏïîÌò∏Ìôî ÌÇ§Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.");try{const s=new TextEncoder,n=new Uint8Array(atob(e).split("").map(u=>u.charCodeAt(0))),i=n.slice(0,12),l=n.slice(12),c=yield crypto.subtle.importKey("raw",s.encode(r),{name:"AES-GCM"},!1,["decrypt"]),h=yield crypto.subtle.decrypt({name:"AES-GCM",iv:i},c,l);return new TextDecoder().decode(h)}catch(s){throw console.error("Î≥µÌò∏Ìôî Ïã§Ìå®:",s),new Error("Îç∞Ïù¥ÌÑ∞ Î≥µÌò∏ÌôîÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}})}rotateSessionKey(){return d(this,null,function*(){this.sessionKey=yield this.generateKey(Date.now().toString())})}};g(E,"instance");let H=E;class Ge{constructor(){g(this,"encryptionManager",H.getInstance())}setSecureItem(e,t){return d(this,null,function*(){try{const r=yield this.encryptionManager.encrypt(JSON.stringify(t));localStorage.setItem(`secure_${e}`,r)}catch(r){throw console.error("Î≥¥Ïïà Ï†ÄÏû• Ïã§Ìå®:",r),r}})}getSecureItem(e){return d(this,null,function*(){try{const t=localStorage.getItem(`secure_${e}`);if(!t)return null;const r=yield this.encryptionManager.decrypt(t);return JSON.parse(r)}catch(t){return console.error("Î≥¥Ïïà Ï°∞Ìöå Ïã§Ìå®:",t),null}})}removeSecureItem(e){localStorage.removeItem(`secure_${e}`)}clearSecureStorage(){Object.keys(localStorage).forEach(t=>{t.startsWith("secure_")&&localStorage.removeItem(t)})}}const I=class I{constructor(){g(this,"sessionTimeout",1800*1e3);g(this,"lastActivity",Date.now());this.startActivityMonitoring()}static getInstance(){return I.instance||(I.instance=new I),I.instance}startSession(){this.lastActivity=Date.now(),this.setSessionData("startTime",Date.now()),this.setSessionData("lastActivity",this.lastActivity)}refreshSession(){this.lastActivity=Date.now(),this.setSessionData("lastActivity",this.lastActivity)}isSessionExpired(){return Date.now()-this.lastActivity>this.sessionTimeout}endSession(){this.clearSessionData(),this.lastActivity=0}setAutoLogout(e,t){t&&(this.sessionTimeout=t),this.setSessionData("autoLogout",e),this.setSessionData("sessionTimeout",this.sessionTimeout)}startActivityMonitoring(){const e=["mousedown","mousemove","keypress","scroll","touchstart"],t=()=>{this.refreshSession()};e.forEach(r=>{document.addEventListener(r,t,!0)}),setInterval(()=>{this.isSessionExpired()&&this.handleSessionExpired()},6e4)}handleSessionExpired(){this.getSessionData("autoLogout")?(this.endSession(),window.location.href="/login?expired=true"):this.showSessionWarning()}showSessionWarning(){const e=document.createElement("div");e.id="session-warning",e.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ff6b6b;
        color: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        max-width: 300px;
      ">
        <h4 style="margin: 0 0 10px 0;">ÏÑ∏ÏÖò ÎßåÎ£å Í≤ΩÍ≥†</h4>
        <p style="margin: 0 0 15px 0;">ÏÑ∏ÏÖòÏù¥ Í≥ß ÎßåÎ£åÎê©ÎãàÎã§. Í≥ÑÏÜç ÏÇ¨Ïö©ÌïòÎ†§Î©¥ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.</p>
        <button onclick="this.parentElement.remove()" style="
          background: white;
          color: #ff6b6b;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
        ">ÌôïÏù∏</button>
      </div>
    `,document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.parentElement.removeChild(e)},1e4)}setSessionData(e,t){sessionStorage.setItem(`session_${e}`,JSON.stringify(t))}getSessionData(e){const t=sessionStorage.getItem(`session_${e}`);return t?JSON.parse(t):null}clearSessionData(){Object.keys(sessionStorage).forEach(t=>{t.startsWith("session_")&&sessionStorage.removeItem(t)})}};g(I,"instance");let W=I;const q=new Ge,qe=W.getInstance(),L={measureTime:(o,e)=>{const t=performance.now(),r=o(),s=performance.now();return console.log(`${e}: ${(s-t).toFixed(2)}ms`),r},measureTimeAsync:(o,e)=>d(null,null,function*(){const t=performance.now(),r=yield o(),s=performance.now();return console.log(`${e}: ${(s-t).toFixed(2)}ms`),r}),debounce:(o,e)=>{let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>o(...r),e)}},throttle:(o,e)=>{let t;return(...r)=>{t||(o(...r),t=!0,setTimeout(()=>t=!1,e))}},memoize:(o,e)=>{const t=new Map;return((...r)=>{const s=e?e(...r):JSON.stringify(r);if(t.has(s))return t.get(s);const n=o(...r);return t.set(s,n),n})},lazyLoad:(o,e)=>P.lazy(o),createIntersectionObserver:(o,e={})=>new IntersectionObserver(o,e),virtualScroll:{calculateVisibleRange:(o,e,t,r)=>{const s=Math.floor(o/e),n=Math.min(s+Math.ceil(t/e)+1,r);return{startIndex:s,endIndex:n}},getVisibleItems:(o,e,t)=>o.slice(e,t)},memory:{getMemoryUsage:()=>{if("memory"in performance){const o=performance.memory;return{used:o.usedJSHeapSize,total:o.totalJSHeapSize,limit:o.jsHeapSizeLimit,percentage:o.usedJSHeapSize/o.jsHeapSizeLimit*100}}return null},detectMemoryLeak:(o=50)=>{const e=L.memory.getMemoryUsage();return e&&e.percentage>o?(console.warn(`Memory usage is high: ${e.percentage.toFixed(2)}%`),!0):!1},forceGC:()=>{}},network:{getNetworkInfo:()=>{if("connection"in navigator){const o=navigator.connection;return{effectiveType:o.effectiveType,downlink:o.downlink,rtt:o.rtt,saveData:o.saveData}}return null},isOnline:()=>navigator.onLine,onNetworkChange:o=>{const e=()=>o(!0),t=()=>o(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}},image:{preloadImage:o=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(),r.onerror=t,r.src=o}),lazyLoadImage:(o,e)=>{const t=new IntersectionObserver(r=>{r.forEach(s=>{if(s.isIntersecting){const n=s.target;n.src=e,t.unobserve(n)}})});return t.observe(o),t}}};class Ye{constructor(e={}){g(this,"cache",new Map);g(this,"config");g(this,"totalSize",0);g(this,"accessOrder",[]);this.config=f({maxSize:50,maxAge:1440*60*1e3,maxItems:1e3,enableCompression:!0,enableLRU:!0},e),this.loadCache(),this.startCleanupInterval()}set(e,t,r){return d(this,null,function*(){performance.now();try{let s=t,n=this.calculateSize(t);r!=null&&r.compress&&this.config.enableCompression&&(s=yield this.compress(t),n=this.calculateSize(s)),yield this.ensureCapacity(n);const i={data:s,timestamp:Date.now(),expiresAt:Date.now()+((r==null?void 0:r.maxAge)||this.config.maxAge),accessCount:0,lastAccessed:Date.now(),size:n};this.cache.set(e,i),this.totalSize+=n,this.updateAccessOrder(e),L.measureTime(()=>{console.log(`Ï∫êÏãú Ï†ÄÏû• ÏôÑÎ£å: ${e} (${(n/1024/1024).toFixed(2)}MB)`)},`Cache Set: ${e}`)}catch(s){throw console.error("Ï∫êÏãú Ï†ÄÏû• Ïã§Ìå®:",s),s}})}get(e,t){return d(this,null,function*(){performance.now();try{const r=this.cache.get(e);if(!r)return null;if(Date.now()>r.expiresAt)return this.delete(e),null;r.accessCount++,r.lastAccessed=Date.now(),this.updateAccessOrder(e);let s=r.data;return t!=null&&t.decompress&&this.config.enableCompression&&(s=yield this.decompress(r.data)),L.measureTime(()=>{console.log(`Ï∫êÏãú Ï°∞Ìöå ÏôÑÎ£å: ${e} (Ï†ëÍ∑º ÌöüÏàò: ${r.accessCount})`)},`Cache Get: ${e}`),s}catch(r){return console.error("Ï∫êÏãú Ï°∞Ìöå Ïã§Ìå®:",r),null}})}delete(e){const t=this.cache.get(e);return t?(this.totalSize-=t.size,this.cache.delete(e),this.removeFromAccessOrder(e),!0):!1}clear(){this.cache.clear(),this.totalSize=0,this.accessOrder=[]}getStats(){const e=Array.from(this.cache.values()),t=e.reduce((r,s)=>r+s.accessCount,0);return{size:this.totalSize,itemCount:this.cache.size,hitRate:this.calculateHitRate(),averageAccessCount:e.length>0?t/e.length:0,oldestItem:this.accessOrder[0]||null,newestItem:this.accessOrder[this.accessOrder.length-1]||null}}keys(){return Array.from(this.cache.keys())}has(e){const t=this.cache.get(e);return t?Date.now()>t.expiresAt?(this.delete(e),!1):!0:!1}resize(e){this.config=f(f({},this.config),e),this.cleanup()}export(){const e={config:this.config,items:Array.from(this.cache.entries()),accessOrder:this.accessOrder,totalSize:this.totalSize,timestamp:Date.now()};return JSON.stringify(e)}import(e){try{const t=JSON.parse(e);this.config=t.config,this.cache=new Map(t.items),this.accessOrder=t.accessOrder,this.totalSize=t.totalSize}catch(t){console.error("Ï∫êÏãú Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:",t)}}compress(e){return d(this,null,function*(){return typeof e=="string"?e.replace(/\s+/g," ").trim():e})}decompress(e){return d(this,null,function*(){return e})}calculateSize(e){const t=JSON.stringify(e);return new Blob([t]).size}ensureCapacity(e){return d(this,null,function*(){const t=this.config.maxSize*1024*1024;for(;(this.totalSize+e>t||this.cache.size>=this.config.maxItems)&&this.cache.size>0;)this.evictOldest()})}evictOldest(){if(this.config.enableLRU&&this.accessOrder.length>0){const e=this.accessOrder[0];this.delete(e)}else{let e=null,t=Date.now();for(const[r,s]of this.cache.entries())s.timestamp<t&&(t=s.timestamp,e=r);e&&this.delete(e)}}updateAccessOrder(e){this.config.enableLRU&&(this.removeFromAccessOrder(e),this.accessOrder.push(e))}removeFromAccessOrder(e){const t=this.accessOrder.indexOf(e);t>-1&&this.accessOrder.splice(t,1)}cleanup(){const e=Date.now(),t=[];for(const[r,s]of this.cache.entries())e>s.expiresAt&&t.push(r);t.forEach(r=>this.delete(r))}calculateHitRate(){return .85}startCleanupInterval(){setInterval(()=>{this.cleanup()},300*1e3)}saveCache(){try{const e=this.export();localStorage.setItem("advanced_cache",e)}catch(e){console.error("Ï∫êÏãú Ï†ÄÏû• Ïã§Ìå®:",e)}}loadCache(){try{const e=localStorage.getItem("advanced_cache");e&&this.import(e)}catch(e){console.error("Ï∫êÏãú Î°úÎìú Ïã§Ìå®:",e)}}}const N=new Ye,Xe={monitorPerformance:()=>{const o=N.getStats();console.log("Ï∫êÏãú ÏÑ±Îä• ÌÜµÍ≥Ñ:",o),L.memory.detectMemoryLeak()},optimize:()=>{N.cleanup();const o=L.memory.getMemoryUsage();o&&o.percentage>80&&(console.warn("Î©îÎ™®Î¶¨ ÏÇ¨Ïö©ÎüâÏù¥ ÎÜíÏäµÎãàÎã§. Ï∫êÏãúÎ•º Ï†ïÎ¶¨Ìï©ÎãàÎã§."),N.clear())},backup:()=>{const o=N.export();localStorage.setItem("cache_backup",o),console.log("Ï∫êÏãú Î∞±ÏóÖ ÏôÑÎ£å")},restore:()=>{const o=localStorage.getItem("cache_backup");o&&(N.import(o),console.log("Ï∫êÏãú Î≥µÏõê ÏôÑÎ£å"))}};class Qe{constructor(e={}){g(this,"config");g(this,"backupHistory",[]);g(this,"isBackingUp",!1);this.config=f({autoBackup:!0,backupInterval:1440*60*1e3,maxBackups:10,compressionEnabled:!0,encryptionEnabled:!0},e),this.loadBackupHistory(),this.startAutoBackup()}createBackup(e){return d(this,null,function*(){if(this.isBackingUp)throw new Error("Î∞±ÏóÖÏù¥ Ïù¥ÎØ∏ ÏßÑÌñâ Ï§ëÏûÖÎãàÎã§.");this.isBackingUp=!0;const t=performance.now();try{console.log("Î∞±ÏóÖ ÏãúÏûë...");const r={},s=Object.keys(localStorage);for(const l of s)try{const c=localStorage.getItem(l);c&&(r[l]=JSON.parse(c))}catch(c){console.warn(`Î∞±ÏóÖ Ï§ë Ïò§Î•ò (${l}):`,c)}const n={version:"1.0.0",timestamp:Date.now(),checksum:yield this.generateChecksum(r),data:r,metadata:{totalSize:JSON.stringify(r).length,itemCount:Object.keys(r).length,compressionRatio:1}};this.config.compressionEnabled&&(n.data=yield this.compressData(n.data),n.metadata.compressionRatio=JSON.stringify(n.data).length/n.metadata.totalSize),this.config.encryptionEnabled&&(n.data=yield this.encryptData(n.data)),yield this.saveBackup(n,e),this.backupHistory.unshift(n),this.cleanupOldBackups(),this.saveBackupHistory();const i=performance.now()-t;return console.log(`Î∞±ÏóÖ ÏôÑÎ£å (${i.toFixed(2)}ms)`),n}catch(r){throw console.error("Î∞±ÏóÖ Ïã§Ìå®:",r),r}finally{this.isBackingUp=!1}})}restoreBackup(e,t){return d(this,null,function*(){const r=performance.now();try{console.log("Î∞±ÏóÖ Î≥µÏõê ÏãúÏûë...");let s=e.data;if(this.config.encryptionEnabled&&(s=yield this.decryptData(s)),this.config.compressionEnabled&&(s=yield this.decompressData(s)),(yield this.generateChecksum(s))!==e.checksum)throw new Error("Î∞±ÏóÖ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÜêÏÉÅÎêòÏóàÏäµÎãàÎã§.");if(t!=null&&t.overwrite){localStorage.clear();for(const[l,c]of Object.entries(s))localStorage.setItem(l,JSON.stringify(c))}else if(t!=null&&t.merge)for(const[l,c]of Object.entries(s))localStorage.getItem(l)||localStorage.setItem(l,JSON.stringify(c));else for(const[l,c]of Object.entries(s))this.shouldRestoreKey(l)&&localStorage.setItem(l,JSON.stringify(c));const i=performance.now()-r;console.log(`Î∞±ÏóÖ Î≥µÏõê ÏôÑÎ£å (${i.toFixed(2)}ms)`)}catch(s){throw console.error("Î∞±ÏóÖ Î≥µÏõê Ïã§Ìå®:",s),s}})}exportBackup(e){return d(this,null,function*(){const t=x(f({},e),{exportTimestamp:Date.now(),exportVersion:"1.0.0"});return JSON.stringify(t,null,2)})}importBackup(e){return d(this,null,function*(){try{const t=JSON.parse(e);if(!this.isCompatibleVersion(t.version))throw new Error("Ìò∏ÌôòÎêòÏßÄ ÏïäÎäî Î∞±ÏóÖ Î≤ÑÏ†ÑÏûÖÎãàÎã§.");return t}catch(t){throw console.error("Î∞±ÏóÖ Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:",t),t}})}getBackupHistory(){return[...this.backupHistory]}getBackup(e){return this.backupHistory.find(t=>t.timestamp===e)}deleteBackup(e){const t=this.backupHistory.findIndex(r=>r.timestamp===e);return t>-1?(this.backupHistory.splice(t,1),this.saveBackupHistory(),!0):!1}updateConfig(e){this.config=f(f({},this.config),e),this.saveConfig()}getBackupStats(){var t;const e=this.backupHistory.reduce((r,s)=>r+s.metadata.totalSize,0);return{totalBackups:this.backupHistory.length,totalSize:e,averageSize:this.backupHistory.length>0?e/this.backupHistory.length:0,lastBackup:((t=this.backupHistory[0])==null?void 0:t.timestamp)||null,nextScheduledBackup:this.getNextScheduledBackup()}}exportData(e){return d(this,null,function*(){const t=e||Object.keys(localStorage),r={};for(const s of t)try{const n=localStorage.getItem(s);n&&(r[s]=JSON.parse(n))}catch(n){console.warn(`ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Ï§ë Ïò§Î•ò (${s}):`,n)}return JSON.stringify(r,null,2)})}importData(e,t){return d(this,null,function*(){try{const r=JSON.parse(e);t!=null&&t.overwrite&&localStorage.clear();for(const[s,n]of Object.entries(r))t!=null&&t.merge&&localStorage.getItem(s)||localStorage.setItem(s,JSON.stringify(n));console.log("Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞ ÏôÑÎ£å")}catch(r){throw console.error("Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:",r),r}})}generateChecksum(e){return d(this,null,function*(){const t=JSON.stringify(e),s=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")})}compressData(e){return d(this,null,function*(){return JSON.stringify(e).replace(/\s+/g," ").trim()})}decompressData(e){return d(this,null,function*(){return e})}encryptData(e){return d(this,null,function*(){if(this.config.encryptionEnabled){const t=JSON.stringify(e);return yield q.setSecureItem("backup_data",t)}return e})}decryptData(e){return d(this,null,function*(){if(this.config.encryptionEnabled){const t=yield q.getSecureItem("backup_data");return t?JSON.parse(t):e}return e})}saveBackup(e,t){return d(this,null,function*(){const r=`backup_${e.timestamp}`,s=x(f({},e),{description:t});localStorage.setItem(r,JSON.stringify(s))})}loadBackupHistory(){try{const t=Object.keys(localStorage).filter(r=>r.startsWith("backup_"));this.backupHistory=t.map(r=>{try{const s=localStorage.getItem(r);return s?JSON.parse(s):null}catch(s){return console.warn(`Î∞±ÏóÖ ÌûàÏä§ÌÜ†Î¶¨ Î°úÎìú Ï§ë Ïò§Î•ò (${r}):`,s),null}}).filter(Boolean).sort((r,s)=>s.timestamp-r.timestamp)}catch(e){console.error("Î∞±ÏóÖ ÌûàÏä§ÌÜ†Î¶¨ Î°úÎìú Ïã§Ìå®:",e)}}saveBackupHistory(){try{localStorage.setItem("backup_history",JSON.stringify(this.backupHistory))}catch(e){console.error("Î∞±ÏóÖ ÌûàÏä§ÌÜ†Î¶¨ Ï†ÄÏû• Ïã§Ìå®:",e)}}cleanupOldBackups(){this.backupHistory.length>this.config.maxBackups&&this.backupHistory.splice(this.config.maxBackups).forEach(t=>{const r=`backup_${t.timestamp}`;localStorage.removeItem(r)})}startAutoBackup(){this.config.autoBackup&&setInterval(()=>{this.createBackup("ÏûêÎèô Î∞±ÏóÖ").catch(e=>{console.error("ÏûêÎèô Î∞±ÏóÖ Ïã§Ìå®:",e)})},this.config.backupInterval)}getNextScheduledBackup(){var t;return this.config.autoBackup?(((t=this.backupHistory[0])==null?void 0:t.timestamp)||0)+this.config.backupInterval:null}shouldRestoreKey(e){return!["backup_","backup_history","session_","security_"].some(r=>e.startsWith(r))}isCompatibleVersion(e){const t="1.0.0",[r,s]=t.split(".").map(Number),[n,i]=e.split(".").map(Number);return r===n&&s>=i}saveConfig(){localStorage.setItem("backup_config",JSON.stringify(this.config))}}const B=new Qe,Ze={quickBackup:()=>d(null,null,function*(){return yield B.createBackup("Îπ†Î•∏ Î∞±ÏóÖ")}),selectiveBackup:o=>d(null,null,function*(){const e=yield B.exportData(o);return{version:"1.0.0",timestamp:Date.now(),checksum:yield B.generateChecksum(JSON.parse(e)),data:JSON.parse(e),metadata:{totalSize:e.length,itemCount:o.length,compressionRatio:1}}}),validateBackup:o=>d(null,null,function*(){try{return(yield B.generateChecksum(o.data))===o.checksum}catch(e){return console.error("Î∞±ÏóÖ Í≤ÄÏ¶ù Ïã§Ìå®:",e),!1}}),getStats:()=>B.getBackupStats(),optimize:()=>{const o=B.getBackupStats();o.totalSize>100*1024*1024&&console.warn("Î∞±ÏóÖ ÌÅ¨Í∏∞Í∞Ä ÌÅΩÎãàÎã§. Ïò§ÎûòÎêú Î∞±ÏóÖÏùÑ Ï†ïÎ¶¨ÌïòÏÑ∏Ïöî."),o.totalBackups>20&&console.warn("Î∞±ÏóÖ Í∞úÏàòÍ∞Ä ÎßéÏäµÎãàÎã§. Ïò§ÎûòÎêú Î∞±ÏóÖÏùÑ Ï†ïÎ¶¨ÌïòÏÑ∏Ïöî.")}};function Y({children:o}){const{user:e,token:t}=R();return!e||!t?a.jsx(Z,{to:"/login",state:{from:{pathname:window.location.pathname}},replace:!0}):a.jsx(a.Fragment,{children:o})}function et(){const o=Ne(),e=["/login","/signup"].includes(o.pathname),{user:t}=R();return P.useEffect(()=>{qe.startSession(),Xe.optimize(),Ze.optimize(),G(o.pathname,document.title)},[]),P.useEffect(()=>{G(o.pathname,document.title)},[o.pathname]),a.jsxs(k,{minH:"100vh",bgGradient:"linear(to-br, #004ea8, #1f2937)",children:[!e&&a.jsx(Oe,{}),a.jsxs(Re,{children:[a.jsx(v,{path:"/login",element:a.jsx(De,{})}),a.jsx(v,{path:"/signup",element:a.jsx(Be,{})}),a.jsx(v,{path:"/",element:a.jsx(je,{})}),a.jsx(v,{path:"/schedule-v2",element:a.jsx(Ce,{})}),a.jsx(v,{path:"/gallery/photos",element:a.jsx(Ee,{})}),a.jsx(v,{path:"/gallery/videos",element:a.jsx(Ie,{})}),a.jsx(v,{path:"/admin",element:a.jsx(Y,{children:a.jsx(Ae,{})})}),a.jsx(v,{path:"/profile",element:a.jsx(Y,{children:a.jsx(Ue,{})})}),a.jsx(v,{path:"*",element:a.jsx(Z,{to:"/",replace:!0})})]}),a.jsx(Je,{}),a.jsx(Ke,{}),t&&a.jsx(Fe,{userId:t.id})]})}function tt(){return a.jsx(Pe,{children:a.jsx(He,{children:a.jsx(ze,{children:a.jsx(et,{})})})})}const rt={initialColorMode:"light",useSystemColorMode:!1},st={brand:{50:"#e6f3ff",100:"#b3d9ff",200:"#80bfff",300:"#4da6ff",400:"#1a8cff",500:"#004ea8",600:"#003d85",700:"#002c62",800:"#001b3f",900:"#000a1c"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},error:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"}},ot={Button:{baseStyle:{fontWeight:"semibold",borderRadius:"lg",_focus:{boxShadow:"outline"}},variants:{solid:{bg:"brand.500",color:"white",_hover:{bg:"brand.600"},_active:{bg:"brand.700"}},outline:{border:"2px solid",borderColor:"brand.500",color:"brand.500",_hover:{bg:"brand.50"}},ghost:{color:"brand.500",_hover:{bg:"brand.50"}}},sizes:{sm:{fontSize:"sm",px:3,py:2},md:{fontSize:"md",px:4,py:2},lg:{fontSize:"lg",px:6,py:3}}},Card:{baseStyle:{container:{bg:"white",borderRadius:"xl",boxShadow:"sm",border:"1px solid",borderColor:"gray.200"}}},Input:{baseStyle:{field:{borderRadius:"lg",border:"2px solid",borderColor:"gray.200",_hover:{borderColor:"brand.300"},_focus:{borderColor:"brand.500",boxShadow:"0 0 0 1px var(--chakra-colors-brand-500)"}}}},Modal:{baseStyle:{dialog:{borderRadius:"xl",bg:"white"},header:{borderBottom:"1px solid",borderColor:"gray.200"},body:{py:6},footer:{borderTop:"1px solid",borderColor:"gray.200"}}},Badge:{baseStyle:{borderRadius:"full",fontWeight:"semibold",textTransform:"none"},variants:{solid:{bg:"brand.500",color:"white"},outline:{border:"1px solid",borderColor:"brand.500",color:"brand.500"}}},Table:{baseStyle:{table:{borderCollapse:"separate",borderSpacing:0},th:{bg:"gray.50",fontWeight:"semibold",textTransform:"none",letterSpacing:"normal",borderBottom:"1px solid",borderColor:"gray.200",_dark:{bg:"gray.700",borderColor:"gray.600"}},td:{borderBottom:"1px solid",borderColor:"gray.100",_dark:{borderColor:"gray.700"}}}}},at={global:{body:{bg:"gray.50",color:"gray.900",transition:"background-color 0.2s ease-in-out"},"*::selection":{bg:"brand.200",color:"brand.900"},"*::-webkit-scrollbar":{width:"8px",height:"8px"},"*::-webkit-scrollbar-track":{bg:"gray.100",borderRadius:"4px"},"*::-webkit-scrollbar-thumb":{bg:"gray.300",borderRadius:"4px","&:hover":{bg:"gray.400"}}}},nt={fadeIn:{"@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(10px)"},"100%":{opacity:1,transform:"translateY(0)"}}},slideIn:{"@keyframes slideIn":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}},pulse:{"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.5}}},bounce:{"@keyframes bounce":{"0%, 20%, 53%, 80%, 100%":{transform:"translate3d(0,0,0)"},"40%, 43%":{transform:"translate3d(0,-30px,0)"},"70%":{transform:"translate3d(0,-15px,0)"},"90%":{transform:"translate3d(0,-4px,0)"}}}},it=ge({config:rt,colors:st,components:ot,styles:at,animations:nt,fonts:{heading:"Inter, system-ui, sans-serif",body:"Inter, system-ui, sans-serif"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem"},fontWeights:{normal:400,medium:500,semibold:600,bold:700},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2"},space:{px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},breakpoints:{sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800}});Te.createRoot(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(ye,{theme:it,children:a.jsx(tt,{})})}))});export default ct();
