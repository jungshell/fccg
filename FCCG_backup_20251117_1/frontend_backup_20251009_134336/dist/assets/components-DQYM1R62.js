const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-BYpSsNsE.js","assets/chakra-BcC6TOEp.js","assets/vendor-oOSsakeb.js","assets/router-C47EFJdC.js","assets/state-D9RA7dEJ.js"])))=>i.map(i=>d[i]);
var Je=Object.defineProperty,qe=Object.defineProperties;var Ke=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Pe=(l,j,b)=>j in l?Je(l,j,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[j]=b,k=(l,j)=>{for(var b in j||(j={}))Ye.call(j,b)&&Pe(l,b,j[b]);if(Oe)for(var b of Oe(j))Qe.call(j,b)&&Pe(l,b,j[b]);return l},O=(l,j)=>qe(l,Ke(j));var G=(l,j,b)=>new Promise((o,R)=>{var J=r=>{try{D(b.next(r))}catch(i){R(i)}},g=r=>{try{D(b.throw(r))}catch(i){R(i)}},D=r=>r.done?o(r.value):Promise.resolve(r.value).then(J,g);D((b=b.apply(l,j)).next())});import{u as le,r as Xe,l as Ze,_ as Ce,a as et,d as tt}from"./pages-BYpSsNsE.js";import{r as u,m as fe,j as e,B as f,h as Ee,a4 as $e,V as ne,s as P,t as L,p as $,l as y,u as pe,al as st,am as nt,I as me,an as rt,K as Ie,M as ce,f as de,g as he,o as je,i as ue,A as ke,b as Me,ao as ot,ap as at,aq as lt,F as it,H as M,T as m,ab as ct,L as dt,ar as ht,ai as ut,k as ge,e as ie,a3 as Le,R as Se,x as Ae,O as We,Q as Ve,U as we,X as Z,Y as Be,Z as ee,E as Fe,D as Ge,w as ve,as as gt}from"./chakra-BcC6TOEp.js";import{u as De,a as Ue}from"./router-C47EFJdC.js";const xt=({onSwitch:l,onClose:j})=>{const[b,o]=u.useState(""),[R,J]=u.useState(""),[g,D]=u.useState(""),[r,i]=u.useState(""),[p,v]=u.useState(!1),C=le(E=>E.setUser),q=le(E=>E.setToken),T=fe(),W=De(),V=E=>G(null,null,function*(){var K,Y,Q,I,B,c,_,N,F,te;if(E.preventDefault(),!b||!R||!g){T({title:"íšŒì›ê°€ì… ì‹¤íŒ¨",description:"í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}v(!0);try{const{token:A,user:z}=yield Xe({email:b,password:R,name:g,phone:r});C(z),q(A),T({title:"íšŒì›ê°€ì… ì„±ê³µ",status:"success",duration:2e3,isClosable:!0}),j&&j(),W("/")}catch(A){let z="ì˜¤ë¥˜ ë°œìƒ";if(A&&typeof A=="object"&&"response"in A){const S=A;((K=S.response)==null?void 0:K.status)===400?z=((Y=S.response.data)==null?void 0:Y.error)||((Q=S.response.data)==null?void 0:Q.message)||"ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.":((I=S.response)==null?void 0:I.status)===409?z="ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.":((B=S.response)==null?void 0:B.status)===404?z="íšŒì›ê°€ì… ì„œë¹„ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.":((c=S.response)==null?void 0:c.status)===500?z="ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.":(N=(_=S.response)==null?void 0:_.data)!=null&&N.error?z=S.response.data.error:(te=(F=S.response)==null?void 0:F.data)!=null&&te.message&&(z=S.response.data.message)}else A&&typeof A=="object"&&"message"in A&&(z=A.message);T({title:"íšŒì›ê°€ì… ì‹¤íŒ¨",description:z,status:"error",duration:5e3,isClosable:!0})}finally{v(!1)}});return e.jsxs(f,{bgGradient:"linear(to-br, #004ea8, #1f2937)",borderRadius:"xl",p:0,px:8,py:8,minHeight:"320px",alignSelf:"center",position:"relative",children:[l&&e.jsx(Ee,{color:"white",position:"absolute",top:"1rem",right:"1rem",zIndex:100,size:"lg",bg:"rgba(0,0,0,0.25)",_hover:{bg:"rgba(0,0,0,0.35)"},_focus:{boxShadow:"none"},borderRadius:"full",m:0,transform:"none",onClick:l}),e.jsxs(f,{bg:"white",borderRadius:"xl",p:8,boxShadow:"lg",w:"full",maxW:"sm",minW:320,children:[e.jsx($e,{mb:6,color:"#004ea8",fontFamily:"Pretendard, Inter, sans-serif",fontWeight:"bold",textAlign:"center",children:"íšŒì›ê°€ì…"}),e.jsx("form",{onSubmit:V,children:e.jsxs(ne,{spacing:4,children:[e.jsxs(P,{id:"email",isRequired:!0,children:[e.jsx(L,{children:"ì´ë©”ì¼"}),e.jsx($,{type:"email",value:b,onChange:E=>o(E.target.value),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}})]}),e.jsxs(P,{id:"password",isRequired:!0,children:[e.jsx(L,{children:"ë¹„ë°€ë²ˆí˜¸"}),e.jsx($,{type:"password",value:R,onChange:E=>J(E.target.value),placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}})]}),e.jsxs(P,{id:"name",isRequired:!0,children:[e.jsx(L,{children:"ì´ë¦„"}),e.jsx($,{value:g,onChange:E=>D(E.target.value),placeholder:"ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}})]}),e.jsxs(P,{id:"phone",children:[e.jsx(L,{children:"íœ´ëŒ€í° ë²ˆí˜¸"}),e.jsx($,{value:r,onChange:E=>i(E.target.value),placeholder:"íœ´ëŒ€í° ë²ˆí˜¸ (ì„ íƒ)",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}})]}),e.jsx(y,{type:"submit",colorScheme:"blue",bg:"#004ea8",_hover:{bg:"#00397a"},w:"full",rounded:"lg",isLoading:p,fontWeight:"bold",children:"íšŒì›ê°€ì…"}),l&&e.jsx(y,{variant:"outline",color:"#004ea8",borderColor:"#004ea8",borderWidth:1,borderStyle:"solid",rounded:"lg",w:"full",mt:2,fontWeight:"bold",bg:"white",_hover:{bg:"#e6f0fa"},onClick:l,children:"ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? ë¡œê·¸ì¸"})]})})]})]})},pt=({onSwitch:l,onClose:j})=>{const[b,o]=u.useState(""),[R,J]=u.useState(""),[g,D]=u.useState(!1),[r,i]=u.useState(!1),[p,v]=u.useState(null),C=le(c=>c.setUser),q=le(c=>c.setToken),T=fe(),W=De(),V=Ue(),{isOpen:E,onOpen:K,onClose:Y}=pe(),Q=c=>{if(!c)return null;if(c.voteAttendance<50)return{type:"vote",title:"íˆ¬í‘œ ì°¸ì—¬ìœ¨ ê²½ê³ ",message:`í˜„ì¬ íˆ¬í‘œ ì°¸ì—¬ìœ¨ì´ ${c.voteAttendance}%ì…ë‹ˆë‹¤. 4íšŒ ì—°ì† ë¯¸ì°¸ì—¬ ë˜ëŠ” 3ê°œì›”ê°„ 6íšŒ ë¯¸ì°¸ì—¬ ì‹œ ë¹„í™œì„± ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.`,severity:"warning"};if(c.attendance<30)return{type:"game",title:"ê²½ê¸° ì°¸ì—¬ìœ¨ ê²½ê³ ",message:"3ê°œì›”ê°„ ì¶•êµ¬ê²½ê¸°ì— ì°¸ì—¬í•˜ì§€ ì•Šìœ¼ë©´ ë¹„í™œì„± ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.",severity:"warning"};if(c.lastLoginAt){const _=new Date(c.lastLoginAt),N=Math.floor((Date.now()-_.getTime())/(1e3*60*60*24));if(N>30)return{type:"login",title:"ë¡œê·¸ì¸ ê²½ê³ ",message:`${N}ì¼ê°„ ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 2ê°œì›”ê°„ ë¡œê·¸ì¸í•˜ì§€ ì•Šìœ¼ë©´ ì •ì§€ ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.`,severity:"error"}}return null},I=()=>{var _,N;Y(),T({title:"ë¡œê·¸ì¸ ì„±ê³µ",status:"success",duration:2e3,isClosable:!0}),j&&j();const c=((N=(_=V.state)==null?void 0:_.from)==null?void 0:N.pathname)||"/";W(c)},B=c=>G(null,null,function*(){var _,N,F,te,A,z,S,oe,se,ae,s,t,n;c.preventDefault(),i(!0);try{console.log("ğŸš€ ë¡œê·¸ì¸ ì‹œì‘:",{email:b});const{token:a,user:d}=yield Ze({email:b,password:R});console.log("ğŸ” ë¡œê·¸ì¸ ì‘ë‹µ:",{token:a?"í† í° ìˆìŒ":"í† í° ì—†ìŒ",user:d==null?void 0:d.name}),console.log("ğŸ” í† í° ê¸¸ì´:",a?a.length:0),console.log("ğŸ” í† í° ë‚´ìš© (ì²˜ìŒ 50ì):",a?a.substring(0,50)+"...":"ì—†ìŒ"),console.log("ğŸ”„ ì‚¬ìš©ì ì •ë³´ ì €ì¥ ì¤‘..."),C(d),console.log("ğŸ”„ í† í° ì €ì¥ ì¤‘..."),q(a);const x=localStorage.getItem("token"),U=localStorage.getItem("user");console.log("ğŸ” í† í° ì €ì¥ í›„ localStorage í™•ì¸:",x?`ì €ì¥ë¨ (ê¸¸ì´: ${x.length})`:"ì €ì¥ ì•ˆë¨"),console.log("ğŸ” ì‚¬ìš©ì ì €ì¥ í›„ localStorage í™•ì¸:",U?"ì €ì¥ë¨":"ì €ì¥ ì•ˆë¨");const H=Q(d);if(H)v(H),K();else{T({title:"ë¡œê·¸ì¸ ì„±ê³µ",status:"success",duration:2e3,isClosable:!0}),j&&j();const be=((N=(_=V.state)==null?void 0:_.from)==null?void 0:N.pathname)||"/";W(be)}}catch(a){let d="ì˜¤ë¥˜ ë°œìƒ";if(a&&typeof a=="object"&&"response"in a){const x=a;((F=x.response)==null?void 0:F.status)===401?d="ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.":((te=x.response)==null?void 0:te.status)===403?d="ë¹„í™œì„±í™”ëœ ê³„ì •ì…ë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.":((A=x.response)==null?void 0:A.status)===400?d=((z=x.response.data)==null?void 0:z.error)||((S=x.response.data)==null?void 0:S.message)||"ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.":((oe=x.response)==null?void 0:oe.status)===404?d="ë¡œê·¸ì¸ ì„œë¹„ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.":((se=x.response)==null?void 0:se.status)===500?d="ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.":(s=(ae=x.response)==null?void 0:ae.data)!=null&&s.error?d=x.response.data.error:(n=(t=x.response)==null?void 0:t.data)!=null&&n.message&&(d=x.response.data.message)}else a&&typeof a=="object"&&"message"in a&&(d=a.message);T({title:"ë¡œê·¸ì¸ ì‹¤íŒ¨",description:d,status:"error",duration:5e3,isClosable:!0})}finally{i(!1)}});return e.jsxs(f,{bgGradient:"linear(to-br, #004ea8, #1f2937)",borderRadius:"xl",p:0,px:8,py:8,position:"relative",children:[l&&e.jsx(Ee,{color:"white",position:"absolute",top:"1rem",right:"1rem",zIndex:100,size:"lg",bg:"rgba(0,0,0,0.25)",_hover:{bg:"rgba(0,0,0,0.35)"},_focus:{boxShadow:"none"},borderRadius:"full",m:0,transform:"none",onClick:l}),e.jsxs(f,{bg:"white",borderRadius:"xl",p:8,boxShadow:"lg",w:"full",maxW:"sm",minW:320,children:[e.jsx($e,{mb:6,color:"#004ea8",fontFamily:"Pretendard, Inter, sans-serif",fontWeight:"bold",textAlign:"center",children:"ë¡œê·¸ì¸"}),e.jsx("form",{onSubmit:B,children:e.jsxs(ne,{spacing:4,children:[e.jsxs(P,{id:"email",isRequired:!0,children:[e.jsx(L,{children:"ì´ë©”ì¼"}),e.jsx($,{type:"email",value:b,onChange:c=>o(c.target.value),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}})]}),e.jsxs(P,{id:"password",isRequired:!0,children:[e.jsx(L,{children:"ë¹„ë°€ë²ˆí˜¸"}),e.jsxs(st,{children:[e.jsx($,{type:g?"text":"password",value:R,onChange:c=>J(c.target.value),placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",rounded:"lg",bg:"gray.50",_dark:{bg:"#374151"}}),e.jsx(nt,{children:e.jsx(me,{"aria-label":g?"ë¹„ë°€ë²ˆí˜¸ ìˆ¨ê¸°ê¸°":"ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°",icon:g?e.jsx(rt,{}):e.jsx(Ie,{}),variant:"ghost",size:"sm",onClick:()=>D(c=>!c)})})]})]}),e.jsx(y,{type:"submit",colorScheme:"blue",bg:"#004ea8",_hover:{bg:"#00397a"},w:"full",rounded:"lg",isLoading:r,fontWeight:"bold",children:"ë¡œê·¸ì¸"}),l&&e.jsx(y,{variant:"outline",color:"#004ea8",borderColor:"#004ea8",borderWidth:1,borderStyle:"solid",rounded:"lg",w:"full",mt:2,fontWeight:"bold",bg:"white",_hover:{bg:"#e6f0fa"},onClick:l,children:"íšŒì›ê°€ì…"})]})})]}),e.jsxs(ce,{isOpen:E,onClose:I,size:"md",children:[e.jsx(de,{}),e.jsxs(he,{children:[e.jsx(je,{children:(p==null?void 0:p.title)||"ìƒíƒœ ê²½ê³ "}),e.jsx(ue,{children:e.jsxs(ke,{status:(p==null?void 0:p.severity)==="error"?"error":"warning",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"200px",children:[e.jsx(Me,{boxSize:"40px",mr:0}),e.jsx(ot,{mt:4,mb:1,fontSize:"lg",children:p==null?void 0:p.title}),e.jsx(at,{maxWidth:"sm",children:p==null?void 0:p.message})]})}),e.jsx(lt,{children:e.jsx(y,{colorScheme:"blue",mr:3,onClick:I,children:"í™•ì¸"})})]})]})]})};function yt(){var be,Te,ze,Re,Ne,_e;const{isOpen:l,onOpen:j,onClose:b}=pe(),o=le(h=>h.user),R=le(h=>h.logout),J=le(h=>h.setUser),g=le(h=>h.token),[D,r]=u.useState(!1),i=(be=o==null?void 0:o.attendance)!=null?be:null,p=(Te=o==null?void 0:o.voteAttendance)!=null?Te:null,v=De(),C=Ue(),[q,T]=u.useState(!1),[W,V]=u.useState((o==null?void 0:o.name)||""),[E,K]=u.useState(!1),[Y,Q]=u.useState(null),[I,B]=u.useState(!1),[c,_]=u.useState(""),[N,F]=u.useState(""),[te,A]=u.useState(!1),[z,S]=u.useState(null),oe=fe(),se=()=>G(null,null,function*(){if(g)try{const{getProfile:h}=yield Ce(()=>G(null,null,function*(){const{getProfile:re}=yield import("./pages-BYpSsNsE.js").then(xe=>xe.g);return{getProfile:re}}),__vite__mapDeps([0,1,2,3,4])),w=yield h();J(w),console.log("ğŸ—³ï¸ í—¤ë”: ì‚¬ìš©ì ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ:",{voteAttendance:w.voteAttendance,voteDetails:w.voteDetails,name:w.name})}catch(h){console.error("ì‚¬ìš©ì ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:",h)}});u.useEffect(()=>{const h=()=>{console.log("ğŸ—³ï¸ í—¤ë”: íˆ¬í‘œ ì œì¶œ ì´ë²¤íŠ¸ ìˆ˜ì‹ , ì‚¬ìš©ì ë°ì´í„° ìƒˆë¡œê³ ì¹¨"),se()};return window.addEventListener("voteSubmitted",h),()=>{window.removeEventListener("voteSubmitted",h)}},[g]);const ae=()=>{V((o==null?void 0:o.name)||""),T(!0)},s=()=>G(null,null,function*(){if(!(!o||!g)){K(!0),Q(null);try{const h=yield Ce(()=>import("./pages-BYpSsNsE.js").then(w=>w.g),__vite__mapDeps([0,1,2,3,4])).then(w=>w.updateProfile(W));J(h.user),T(!1),oe({title:"ì´ë¦„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3})}catch(h){Q("ì´ë¦„ ìˆ˜ì • ì‹¤íŒ¨")}finally{K(!1)}}}),t=()=>G(null,null,function*(){if(!(!o||!g)){if(c!==N){S("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");return}if(c.length<6){S("ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");return}A(!0),S(null);try{const{changePassword:h}=yield Ce(()=>G(null,null,function*(){const{changePassword:w}=yield import("./pages-BYpSsNsE.js").then(re=>re.g);return{changePassword:w}}),__vite__mapDeps([0,1,2,3,4]));yield h(c),B(!1),_(""),F(""),oe({title:"ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3})}catch(h){console.error("ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì˜¤ë¥˜:",h),S("ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{A(!1)}}}),[n,a]=u.useState(0),[d,x]=u.useState(0),U=u.useRef(null),H=u.useRef(null);return u.useEffect(()=>{if(i===null){a(0);return}const h=700,w=1e3/60,re=Math.round(h/w);let xe=0;return U.current&&clearInterval(U.current),U.current=setInterval(()=>{xe++;const X=Math.min(xe/re,1),ye=Math.round(X*i);a(ye),X===1&&U.current&&clearInterval(U.current)},w),()=>{U.current&&clearInterval(U.current)}},[i]),u.useEffect(()=>{const h=p!=null?p:0,w=700,re=1e3/60,xe=Math.round(w/re);let X=0;return H.current&&clearInterval(H.current),H.current=setInterval(()=>{X++;const ye=Math.min(X/xe,1),He=Math.round(ye*h);x(He),ye===1&&H.current&&clearInterval(H.current)},re),()=>{H.current&&clearInterval(H.current)}},[p]),u.useEffect(()=>{const h="header-gauge-grow-keyframes";if(!document.getElementById(h)){const w=document.createElement("style");w.id=h,w.innerHTML="@keyframes gaugeGrow { from { width: 0%; } to { width: var(--gauge-width, 100%); } }",document.head.appendChild(w)}},[]),u.useEffect(()=>{o&&g&&se()},[g]),u.useEffect(()=>{const h=()=>{console.log("ğŸ” í—¤ë”: íˆ¬í‘œ ì™„ë£Œ ì´ë²¤íŠ¸ ìˆ˜ì‹ , ì‚¬ìš©ì ë°ì´í„° ìƒˆë¡œê³ ì¹¨"),o&&g&&se()};return window.addEventListener("voteSubmitted",h),()=>{window.removeEventListener("voteSubmitted",h)}},[o,g]),e.jsxs(e.Fragment,{children:[e.jsxs(it,{as:"nav",align:"center",justify:"space-between",px:{base:4,md:16},py:4,bg:"white",boxShadow:"sm",w:"100vw",position:"fixed",top:0,left:0,right:0,zIndex:100,children:[e.jsx(M,{spacing:4,children:e.jsx(m,{fontSize:"xl",fontWeight:"bold",cursor:"pointer",onClick:h=>{h.preventDefault(),h.stopPropagation(),console.log("ğŸ” í™ˆìœ¼ë¡œ ì´ë™ ì‹œë„ - í˜„ì¬ ê²½ë¡œ:",window.location.pathname),console.log("ğŸ” navigate í•¨ìˆ˜ íƒ€ì…:",typeof v);try{v("/"),console.log("ğŸ” í™ˆ navigate í˜¸ì¶œ ì™„ë£Œ"),setTimeout(()=>{window.location.pathname!=="/"&&(console.log("ğŸ” React Router ì‹¤íŒ¨, ê°•ì œ ì´ë™ ì‹œë„"),window.location.href="/")},500)}catch(w){console.error("ğŸ” í™ˆ navigate ì—ëŸ¬:",w),window.location.href="/"}},tabIndex:0,"aria-label":"í™ˆìœ¼ë¡œ ì´ë™",color:"#004ea8",_hover:{color:"#00397a"},children:"FC CHAL-GGYEO"})}),e.jsxs(M,{spacing:4,children:[e.jsx(y,{variant:C.pathname==="/schedule-v2"?"outline":"ghost",bg:"transparent",color:"#004ea8",border:"0.5px solid",borderColor:C.pathname==="/schedule-v2"?"#004ea8":"transparent",_hover:{bg:C.pathname==="/schedule-v2"?"transparent":"gray.50",borderColor:"#004ea8"},leftIcon:e.jsx(ct,{}),onClick:()=>v("/schedule-v2"),children:"ì¼ì •"}),e.jsx(y,{variant:C.pathname==="/gallery"?"outline":"ghost",bg:"transparent",color:"#004ea8",border:"0.5px solid",borderColor:C.pathname==="/gallery"?"#004ea8":"transparent",_hover:{bg:C.pathname==="/gallery"?"transparent":"gray.50",borderColor:"#004ea8"},leftIcon:e.jsx(Ie,{}),onClick:()=>v("/gallery"),children:"ê°¤ëŸ¬ë¦¬"}),e.jsx(y,{variant:C.pathname==="/gallery/photos"?"outline":"ghost",bg:"transparent",color:"#004ea8",border:"0.5px solid",borderColor:C.pathname==="/gallery/photos"?"#004ea8":"transparent",_hover:{bg:C.pathname==="/gallery/photos"?"transparent":"gray.50",borderColor:"#004ea8"},leftIcon:e.jsx(dt,{}),onClick:()=>v("/gallery/photos"),children:"ì‚¬ì§„"}),e.jsx(y,{variant:C.pathname==="/gallery/videos"?"outline":"ghost",bg:"transparent",color:"#004ea8",border:"0.5px solid",borderColor:C.pathname==="/gallery/videos"?"#004ea8":"transparent",_hover:{bg:C.pathname==="/gallery/videos"?"transparent":"gray.50",borderColor:"#004ea8"},leftIcon:e.jsx(ht,{}),onClick:()=>v("/gallery/videos"),children:"ë™ì˜ìƒ"}),((o==null?void 0:o.role)==="ADMIN"||(o==null?void 0:o.email)==="sti60val@gmail.com")&&e.jsx(y,{variant:C.pathname==="/admin"?"outline":"ghost",bg:"transparent",color:"#004ea8",border:"0.5px solid",borderColor:C.pathname==="/admin"?"#004ea8":"transparent",_hover:{bg:C.pathname==="/admin"?"transparent":"gray.50",borderColor:"#004ea8"},leftIcon:e.jsx(ut,{}),onClick:h=>{h.preventDefault(),h.stopPropagation(),console.log("ğŸ” ê´€ë¦¬ìë¡œ ì´ë™ ì‹œë„ - í˜„ì¬ ê²½ë¡œ:",window.location.pathname),console.log("ğŸ” navigate í•¨ìˆ˜ íƒ€ì…:",typeof v);try{v("/admin"),console.log("ğŸ” ê´€ë¦¬ì navigate í˜¸ì¶œ ì™„ë£Œ"),setTimeout(()=>{window.location.pathname!=="/admin"&&(console.log("ğŸ” React Router ì‹¤íŒ¨, ê°•ì œ ì´ë™ ì‹œë„"),window.location.href="/admin")},500)}catch(w){console.error("ğŸ” ê´€ë¦¬ì navigate ì—ëŸ¬:",w),window.location.href="/admin"}},children:"ê´€ë¦¬ì"})]}),e.jsx(M,{spacing:4,children:o?e.jsxs(e.Fragment,{children:[e.jsxs(M,{align:"center",spacing:3,children:[i!==null&&e.jsxs(e.Fragment,{children:[e.jsx(ge,{label:`${((ze=o==null?void 0:o.voteDetails)==null?void 0:ze.participated)||0}/${((Re=o==null?void 0:o.voteDetails)==null?void 0:Re.total)||2} íˆ¬í‘œ ì°¸ì—¬`,placement:"bottom",hasArrow:!0,bg:"gray.800",color:"white",fontSize:"sm",children:e.jsxs(f,{minW:"80px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[e.jsx(ge,{label:(()=>{const h=o==null?void 0:o.voteDetails;if(!h)return"íˆ¬í‘œ ì„¸ì…˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...";const w=h.sessions||[],re=w.filter(X=>X.userParticipated).length;return`ì „ì²´ ${w.length}ê°œ ì„¸ì…˜ ì¤‘ ${re}ê°œ ì°¸ì—¬

ì„¸ì…˜ ëª©ë¡:
${w.map(X=>`â€¢ ${new Date(X.weekStartDate).toLocaleDateString()} (${X.isActive?"ì§„í–‰ì¤‘":X.isCompleted?"ì™„ë£Œ":"ëŒ€ê¸°"}) - ${X.userParticipated?"ì°¸ì—¬":"ë¯¸ì°¸ì—¬"}`).join(`
`)}`})(),placement:"bottom",hasArrow:!0,bg:"blue.600",color:"white",fontSize:"sm",borderRadius:"md",px:3,py:2,whiteSpace:"pre-line",children:e.jsxs(m,{fontSize:"xs",color:"gray.500",cursor:"help",_hover:{color:"blue.400"},children:["íˆ¬í‘œìœ¨ ",e.jsxs("span",{style:{color:"#e53e3e",fontWeight:"bold"},children:[d,"%"]})]})}),e.jsx(f,{w:"60px",mt:1,children:e.jsx(f,{h:"6px",bg:"#e2e8f0",borderRadius:4,overflow:"hidden",position:"relative",children:e.jsx(f,{bg:"#e53e3e",h:"100%",borderRadius:4,position:"absolute",left:0,top:0,zIndex:1,style:{width:`${d}%`,animation:"gaugeGrow 0.7s cubic-bezier(.4,2,.6,1)",animationFillMode:"forwards","--gauge-width":`${d}%`,transition:"width 0.7s cubic-bezier(.4,2,.6,1)"}})})})]})}),e.jsx(ge,{label:`${((Ne=o==null?void 0:o.gameDetails)==null?void 0:Ne.participated)||0}/${((_e=o==null?void 0:o.gameDetails)==null?void 0:_e.total)||0} ê²½ê¸° ì°¸ì—¬`,placement:"bottom",hasArrow:!0,bg:"gray.800",color:"white",fontSize:"sm",children:e.jsxs(f,{minW:"80px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[e.jsxs(m,{fontSize:"xs",color:"gray.500",children:["ì°¸ì—¬ìœ¨ ",e.jsxs("span",{style:{color:"#004ea8",fontWeight:"bold"},children:[n,"%"]})]}),e.jsx(f,{w:"60px",mt:1,children:e.jsx(f,{h:"6px",bg:"#e2e8f0",borderRadius:4,overflow:"hidden",position:"relative",children:e.jsx(f,{bg:"#004ea8",h:"100%",borderRadius:4,position:"absolute",left:0,top:0,zIndex:1,style:{width:`${n}%`,animation:"gaugeGrow 0.7s cubic-bezier(.4,2,.6,1)",animationFillMode:"forwards","--gauge-width":`${n}%`,transition:"width 0.7s cubic-bezier(.4,2,.6,1)"}})})})]})})]}),e.jsxs(M,{align:"center",spacing:2,children:[e.jsx(ie,{bg:"#004ea8",color:"white",borderRadius:"full",px:2,py:1,children:"ì •"}),e.jsx(m,{fontWeight:"bold",cursor:"pointer",_hover:{textDecoration:"underline",color:"#00397a"},onClick:ae,children:o.name})]})]}),e.jsx(y,{size:"sm",colorScheme:"gray",variant:"outline",onClick:()=>{R(),v("/")},children:"ë¡œê·¸ì•„ì›ƒ"})]}):e.jsx(y,{size:"sm",bg:"#004ea8",color:"white",_hover:{bg:"#00397a"},variant:"outline",onClick:j,children:"ë¡œê·¸ì¸"})})]}),e.jsxs(ce,{isOpen:l,onClose:()=>{r(!1),b()},isCentered:!0,size:"sm",children:[e.jsx(de,{}),e.jsx(he,{p:0,borderRadius:"lg",minH:"auto",maxH:"400px",height:"auto",mx:"auto",my:"auto",position:"relative",children:e.jsx(ue,{p:0,pt:0,pb:1,px:0,display:"flex",alignItems:"center",justifyContent:"center",height:"400px",minHeight:"400px",children:D?e.jsx(xt,{onSwitch:()=>r(!1),onClose:()=>{r(!1),b()}}):e.jsx(pt,{onSwitch:()=>r(!0),onClose:()=>{r(!1),b()}})})})]}),e.jsxs(ce,{isOpen:q,onClose:()=>T(!1),isCentered:!0,size:"sm",children:[e.jsx(de,{}),e.jsx(he,{children:e.jsxs(ue,{p:6,children:[e.jsxs(P,{mb:4,children:[e.jsx(L,{children:"ìƒˆ ì´ë¦„"}),e.jsx($,{value:W,onChange:h=>V(h.target.value),placeholder:"ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"})]}),Y&&e.jsx(m,{color:"red.500",mb:2,children:Y}),e.jsx(y,{bg:"#004ea8",color:"white",_hover:{bg:"#00397a"},w:"full",onClick:s,isLoading:E,isDisabled:!W.trim()||W===(o==null?void 0:o.name),mb:3,children:"ì €ì¥"}),e.jsx(y,{variant:"outline",colorScheme:"orange",w:"full",onClick:()=>{T(!1),B(!0)},children:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"})]})})]}),e.jsxs(ce,{isOpen:I,onClose:()=>B(!1),isCentered:!0,size:"sm",children:[e.jsx(de,{}),e.jsx(he,{children:e.jsxs(ue,{p:6,children:[e.jsxs(P,{mb:4,children:[e.jsx(L,{children:"ìƒˆ ë¹„ë°€ë²ˆí˜¸"}),e.jsx($,{type:"password",value:c,onChange:h=>_(h.target.value),placeholder:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"})]}),e.jsxs(P,{mb:4,children:[e.jsx(L,{children:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸"}),e.jsx($,{type:"password",value:N,onChange:h=>F(h.target.value),placeholder:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”"})]}),z&&e.jsx(m,{color:"red.500",mb:2,children:z}),e.jsx(y,{bg:"#004ea8",color:"white",_hover:{bg:"#00397a"},w:"full",onClick:t,isLoading:te,isDisabled:!c.trim()||!N.trim(),children:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"})]})})]})]})}function wt({userList:l,onUserListChange:j}){const[b,o]=u.useState([]),[R,J]=u.useState(""),[g,D]=u.useState(null),[r,i]=u.useState(null),[p,v]=u.useState(null),[C,q]=u.useState(!1),{isOpen:T,onOpen:W,onClose:V}=pe(),{isOpen:E,onOpen:K,onClose:Y}=pe(),{isOpen:Q,onOpen:I,onClose:B}=pe(),c=fe(),_=Le("white","gray.800"),N=Le("gray.200","gray.700"),{user:F,setUser:te}=le();Se.useEffect(()=>{T&&p&&!r&&(console.log("ì›ë³¸ ë°ì´í„° ë³µì›:",p),i(p)),r&&!T&&console.log("editingMember ìƒíƒœ ìœ ì§€:",r)},[r,T,p]),Se.useEffect(()=>{if(R.trim()==="")o(l);else{const t=l.filter(n=>{var a,d,x;return((a=n.name)==null?void 0:a.toLowerCase().includes(R.toLowerCase()))||((d=n.email)==null?void 0:d.toLowerCase().includes(R.toLowerCase()))||((x=n.role)==null?void 0:x.toLowerCase().includes(R.toLowerCase()))});o(t)}},[R,l]);const A=t=>{console.log("ìˆ˜ì •í•  íšŒì› ì •ë³´:",t);const n={id:t.id,name:t.name||"",email:t.email||"",role:t.role||"MEMBER",status:t.status||"ACTIVE",createdAt:t.createdAt};v(n),i({id:t.id,name:t.name||"",email:t.email||"",role:t.role||"MEMBER",status:t.status||"ACTIVE",createdAt:t.createdAt}),W()},z=()=>G(null,null,function*(){if(r)try{if(r.id===0){if(!r.email||!r.email.trim()){c({title:"ì´ë©”ì¼ ì£¼ì†Œ í•„ìš”",description:"ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){c({title:"ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜",description:"ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}try{const n=yield fetch("http://localhost:4000/api/auth/members",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:r.name,email:r.email,password:"password123",role:r.role})});if(!n.ok){const d=yield n.json();throw new Error(d.error||"íšŒì› ì¶”ê°€ ì‹¤íŒ¨")}const a=yield n.json();c({title:"íšŒì› ì¶”ê°€ ì™„ë£Œ",description:"ìƒˆ íšŒì›ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3,isClosable:!0}),V(),i(null),v(null);try{const d={id:a.id||Date.now(),name:r.name,email:r.email,role:r.role,status:"ACTIVE",createdAt:new Date().toISOString()},x=[...l,d];j(x),console.log("íšŒì› ëª©ë¡ ì—…ë°ì´íŠ¸ ì™„ë£Œ:",x.length,"ëª…")}catch(d){console.error("íšŒì› ëª©ë¡ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:",d),window.location.reload()}}catch(n){const a=n instanceof Error?n.message:"íšŒì› ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";c({title:"íšŒì› ì¶”ê°€ ì‹¤íŒ¨",description:a,status:"error",duration:3e3,isClosable:!0})}}else{console.log("íšŒì› ì •ë³´ ìˆ˜ì • API í˜¸ì¶œ:",r.id,{name:r.name,email:r.email,role:r.role||"MEMBER",status:r.status||"ACTIVE"});const t=localStorage.getItem("token");if(!t){c({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}console.log("í† í° í™•ì¸:",t),console.log("í† í° ê¸¸ì´:",t.length);try{const n=yield fetch(`http://localhost:4000/api/auth/members/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:r.name,email:r.email,role:r.role||"MEMBER",status:r.status||"ACTIVE"})});if(!n.ok){const x=yield n.json();throw new Error(x.error||"íšŒì› ì •ë³´ ìˆ˜ì • ì‹¤íŒ¨")}const a=yield n.json();console.log("API ì‘ë‹µ:",a);const d=l.map(x=>x.id===r.id?k(k({},r),a.member):x);j(d),F&&F.id===r.id&&te(O(k({},F),{name:r.name,email:r.email,role:r.role||"MEMBER",status:r.status||"ACTIVE"})),c({title:"íšŒì› ì •ë³´ ìˆ˜ì • ì™„ë£Œ",description:"íšŒì› ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:3e3,isClosable:!0}),V(),i(null),v(null)}catch(n){console.error("íšŒì› ì •ë³´ ìˆ˜ì • API ì˜¤ë¥˜:",n);const a=n instanceof Error?n.message:"íšŒì› ì •ë³´ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";c({title:"íšŒì› ì •ë³´ ìˆ˜ì • ì‹¤íŒ¨",description:a,status:"error",duration:3e3,isClosable:!0})}}}catch(t){console.error("íšŒì› ì •ë³´ ì €ì¥ ì˜¤ë¥˜:",t),c({title:"íšŒì› ì •ë³´ ì €ì¥ ì‹¤íŒ¨",description:"íšŒì› ì •ë³´ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}}),S=t=>G(null,null,function*(){if(!t)return;if(!localStorage.getItem("token")){c({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}q(!0);try{const a=yield et(t);c({title:"ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ì™„ë£Œ",description:`ìƒˆ ë¹„ë°€ë²ˆí˜¸: ${a.newPassword}`,status:"success",duration:5e3,isClosable:!0})}catch(a){console.error("ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ì˜¤ë¥˜:",a),c({title:"ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ì‹¤íŒ¨",description:"ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}finally{q(!1)}}),oe=()=>G(null,null,function*(){if(!g)return;if(!localStorage.getItem("token")){c({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.",status:"error",duration:3e3,isClosable:!0});return}try{yield tt(g.id);const n=l.filter(a=>a.id!==g.id);j(n),c({title:"íšŒì› ì‚­ì œ ì™„ë£Œ",description:"íšŒì›ì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:3e3,isClosable:!0}),B(),D(null)}catch(n){console.error("íšŒì› ì‚­ì œ ì˜¤ë¥˜:",n),c({title:"íšŒì› ì‚­ì œ ì‹¤íŒ¨",description:"íšŒì› ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}}),se=t=>{switch(t){case"ACTIVE":return"green";case"INACTIVE":return"yellow";case"SUSPENDED":return"red";case"DELETED":return"gray";default:return"gray"}},ae=t=>{switch(t){case"SUPER_ADMIN":return"red";case"ADMIN":return"blue";case"MEMBER":return"green";default:return"gray"}},s=t=>{switch(t){case"SUPER_ADMIN":return"ìŠˆí¼ê´€ë¦¬ì";case"ADMIN":return"ê´€ë¦¬ì";case"MEMBER":return"íšŒì›";default:return"ì•Œ ìˆ˜ ì—†ìŒ"}};return e.jsxs(f,{children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(M,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(M,{spacing:3,children:[e.jsx(m,{fontSize:"2xl",children:"ğŸ‘¥"}),e.jsx(m,{fontSize:"2xl",fontWeight:"bold",children:"íšŒì› ê´€ë¦¬"})]}),e.jsx(m,{children:"ì „ì²´ íšŒì› ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]}),e.jsx(y,{leftIcon:e.jsx(Ae,{}),colorScheme:"blue",bg:"#004ea8",_hover:{bg:"#003d7a"},onClick:()=>{i({id:0,name:"",email:"",role:"MEMBER",status:"ACTIVE"}),W()},size:"sm",children:"ì¶”ê°€"})]}),e.jsx(f,{bg:_,border:"1px",borderColor:N,borderRadius:"lg",overflow:"hidden",children:e.jsxs(We,{variant:"simple",size:"sm",children:[e.jsx(Ve,{children:e.jsxs(we,{children:[e.jsx(Z,{textAlign:"center",children:"ì´ë¦„"}),e.jsx(Z,{textAlign:"center",children:"ì´ë©”ì¼"}),e.jsx(Z,{textAlign:"center",children:"ë“±ê¸‰"}),e.jsx(Z,{textAlign:"center",children:"ìƒíƒœ"}),e.jsx(Z,{textAlign:"center",children:"ê°€ì…ì¼"}),e.jsx(Z,{textAlign:"center",children:"ì‘ì—…"})]})}),e.jsx(Be,{children:b.map(t=>e.jsxs(we,{children:[e.jsx(ee,{textAlign:"center",children:e.jsx(m,{fontWeight:"medium",children:t.name})}),e.jsx(ee,{textAlign:"center",children:e.jsx(m,{fontSize:"sm",color:"gray.600",children:t.email||"-"})}),e.jsx(ee,{textAlign:"center",children:e.jsx(ie,{colorScheme:ae(t.role||""),variant:"subtle",children:s(t.role||"")})}),e.jsx(ee,{textAlign:"center",children:e.jsx(ie,{colorScheme:se(t.status||""),variant:"subtle",children:t.status==="ACTIVE"?"í™œì„±":t.status==="INACTIVE"?"ë¹„í™œì„±":t.status==="SUSPENDED"?"ì •ì§€":t.status==="DELETED"?"ì‚­ì œë¨":"ì•Œ ìˆ˜ ì—†ìŒ"})}),e.jsx(ee,{textAlign:"center",children:e.jsx(m,{fontSize:"sm",color:"gray.600",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("ko-KR"):"-"})}),e.jsx(ee,{textAlign:"center",children:e.jsxs(M,{spacing:2,justify:"center",children:[e.jsx(ge,{label:"íšŒì› ì •ë³´ ë³´ê¸°",placement:"top",hasArrow:!0,bg:"gray.700",color:"white",fontSize:"sm",children:e.jsx(me,{"aria-label":"íšŒì› ì •ë³´ ë³´ê¸°",icon:e.jsx(Ie,{}),size:"sm",variant:"ghost",onClick:()=>{D(t),K()}})}),e.jsx(ge,{label:"íšŒì› ì •ë³´ ìˆ˜ì •",placement:"top",hasArrow:!0,bg:"gray.700",color:"white",fontSize:"sm",children:e.jsx(me,{"aria-label":"íšŒì› ì •ë³´ ìˆ˜ì •",icon:e.jsx(Fe,{}),size:"sm",variant:"ghost",onClick:()=>A(t)})}),e.jsx(ge,{label:"íšŒì› ì‚­ì œ",placement:"top",hasArrow:!0,bg:"red.600",color:"white",fontSize:"sm",children:e.jsx(me,{"aria-label":"íšŒì› ì‚­ì œ",icon:e.jsx(Ge,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>{D(t),I()}})})]})})]},t.id))})]})})]}),e.jsxs(ce,{isOpen:T,onClose:()=>{V()},size:"lg",children:[e.jsx(de,{}),e.jsxs(he,{children:[e.jsx(je,{children:(r==null?void 0:r.id)===0?"ìƒˆ íšŒì› ì¶”ê°€":"íšŒì› ì •ë³´ ìˆ˜ì •"}),e.jsx(ue,{children:e.jsxs(ne,{spacing:4,children:[e.jsxs(P,{children:[e.jsx(L,{children:"ì´ë¦„"}),e.jsx($,{value:(r==null?void 0:r.name)||"",onChange:t=>i(n=>n?O(k({},n),{name:t.target.value}):null),placeholder:"íšŒì› ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"})]}),e.jsxs(P,{children:[e.jsx(L,{children:"ì´ë©”ì¼"}),e.jsx($,{value:(r==null?void 0:r.email)||"",onChange:t=>i(n=>n?O(k({},n),{email:t.target.value}):null),placeholder:"ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",type:"email"})]}),e.jsxs(P,{children:[e.jsx(L,{children:"ë“±ê¸‰"}),e.jsxs(ve,{value:(r==null?void 0:r.role)||"MEMBER",onChange:t=>i(n=>n?O(k({},n),{role:t.target.value}):null),children:[e.jsx("option",{value:"MEMBER",children:"íšŒì›"}),e.jsx("option",{value:"ADMIN",children:"ê´€ë¦¬ì"}),e.jsx("option",{value:"SUPER_ADMIN",children:"ìŠˆí¼ê´€ë¦¬ì"})]})]}),e.jsxs(P,{children:[e.jsx(L,{children:"ìƒíƒœ"}),e.jsxs(ve,{value:(r==null?void 0:r.status)||"ACTIVE",onChange:t=>i(n=>n?O(k({},n),{status:t.target.value}):null),children:[e.jsx("option",{value:"ACTIVE",children:"í™œì„±"}),e.jsx("option",{value:"INACTIVE",children:"ë¹„í™œì„±"}),e.jsx("option",{value:"SUSPENDED",children:"ì •ì§€"}),e.jsx("option",{value:"DELETED",children:"ì‚­ì œë¨"})]})]}),(r==null?void 0:r.id)!==0&&e.jsxs(P,{children:[e.jsx(L,{children:"ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬"}),e.jsx(y,{leftIcon:e.jsx(gt,{}),colorScheme:"orange",variant:"outline",onClick:()=>S(r.id),isLoading:C,loadingText:"ì´ˆê¸°í™” ì¤‘...",w:"100%",children:"ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”"}),e.jsx(m,{fontSize:"sm",color:"gray.500",mt:1,children:"ì´ˆê¸°í™”ëœ ë¹„ë°€ë²ˆí˜¸ëŠ” í† ìŠ¤íŠ¸ ë©”ì‹œì§€ë¡œ í‘œì‹œë©ë‹ˆë‹¤."})]})]})}),e.jsx(f,{p:6,borderTop:"1px",borderColor:"gray.200",children:e.jsxs(M,{spacing:3,justify:"flex-end",children:[e.jsx(y,{variant:"ghost",onClick:()=>{V()},children:"ì·¨ì†Œ"}),e.jsx(y,{colorScheme:"blue",onClick:z,children:"ì €ì¥"})]})})]})]}),e.jsxs(ce,{isOpen:E,onClose:Y,size:"lg",children:[e.jsx(de,{}),e.jsxs(he,{children:[e.jsx(je,{children:"íšŒì› ì •ë³´"}),e.jsx(ue,{children:g&&e.jsxs(ne,{spacing:4,align:"stretch",children:[e.jsxs(f,{children:[e.jsx(m,{fontWeight:"bold",mb:2,children:"ì´ë¦„"}),e.jsx(m,{children:g.name})]}),e.jsxs(f,{children:[e.jsx(m,{fontWeight:"bold",mb:2,children:"ì´ë©”ì¼"}),e.jsx(m,{children:g.email})]}),e.jsxs(f,{children:[e.jsx(m,{fontWeight:"bold",mb:2,children:"ë“±ê¸‰"}),e.jsx(ie,{colorScheme:ae(g.role||""),variant:"subtle",children:s(g.role||"")})]}),e.jsxs(f,{children:[e.jsx(m,{fontWeight:"bold",mb:2,children:"ìƒíƒœ"}),e.jsx(ie,{colorScheme:se(g.status||""),variant:"subtle",children:g.status==="ACTIVE"?"í™œì„±":g.status==="INACTIVE"?"ë¹„í™œì„±":g.status==="SUSPENDED"?"ì •ì§€":g.status==="DELETED"?"ì‚­ì œë¨":"ì•Œ ìˆ˜ ì—†ìŒ"})]}),e.jsxs(f,{children:[e.jsx(m,{fontWeight:"bold",mb:2,children:"ê°€ì…ì¼"}),e.jsx(m,{children:g.createdAt?new Date(g.createdAt).toLocaleDateString("ko-KR"):"-"})]})]})}),e.jsx(f,{p:6,borderTop:"1px",borderColor:"gray.200",children:e.jsx(M,{spacing:3,justify:"flex-end",children:e.jsx(y,{onClick:Y,children:"ë‹«ê¸°"})})})]})]}),e.jsxs(ce,{isOpen:Q,onClose:B,children:[e.jsx(de,{}),e.jsxs(he,{children:[e.jsx(je,{children:"íšŒì› ì‚­ì œ í™•ì¸"}),e.jsx(ue,{children:e.jsxs(ke,{status:"warning",children:[e.jsx(Me,{}),e.jsxs(m,{children:[e.jsx("strong",{children:g==null?void 0:g.name})," íšŒì›ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."]})]})}),e.jsx(f,{p:6,borderTop:"1px",borderColor:"gray.200",children:e.jsxs(M,{spacing:3,justify:"flex-end",children:[e.jsx(y,{variant:"ghost",onClick:B,children:"ì·¨ì†Œ"}),e.jsx(y,{colorScheme:"red",onClick:oe,children:"ì‚­ì œ"})]})})]})]})]})}function vt({games:l,onGamesChange:j,userList:b,onGameDataChanged:o}){console.log("=== GameManagement ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ==="),console.log("GameManagement - ë°›ì€ games prop:",l),console.log("GameManagement - games ê¸¸ì´:",l==null?void 0:l.length),console.log("GameManagement - games íƒ€ì…:",typeof l),console.log("GameManagement - gamesê°€ ë°°ì—´ì¸ê°€:",Array.isArray(l)),console.log("GameManagement - games ë‚´ìš©:",JSON.stringify(l,null,2));const{isOpen:R,onOpen:J,onClose:g}=pe(),[D,r]=u.useState(null),[i,p]=u.useState({date:"",time:"",location:"",eventType:"ìì²´",mercenaryCount:0,memberNames:[""]}),[v,C]=u.useState([]),[q,T]=u.useState(""),[W,V]=u.useState([]),[E,K]=u.useState(!1),[Y,Q]=u.useState(!1),I=fe(),B=()=>{r(null),C([]),p({date:"",time:"",location:"",eventType:"ìì²´",mercenaryCount:0,memberNames:[""]}),J()},c=s=>{r(s);const n=new Date(s.date).toISOString().split("T")[0],a=A(s.selectedMembers||[]),x=A(s.memberNames).filter(U=>!a.includes(U)&&!U.startsWith("ìš©ë³‘"));C(a),p({date:n,time:s.time||"",location:s.location,eventType:s.eventType||"ìì²´",mercenaryCount:s.mercenaryCount||0,memberNames:x.length>0?x:[""]}),J()},_=s=>G(null,null,function*(){try{const t=localStorage.getItem("token")||localStorage.getItem("auth_token_backup")||sessionStorage.getItem("token");if(!t){I({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0});return}console.log("ğŸ” ê²½ê¸° ì‚­ì œ ì‹œë„:",{gameId:s,tokenLength:t.length});const n=yield fetch(`http://localhost:4000/api/auth/games/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok){const d=yield n.json().catch(()=>({}));throw new Error(`ê²½ê¸° ì‚­ì œ ì‹¤íŒ¨: ${n.status} - ${d.error||n.statusText}`)}const a=l.filter(d=>d.id!==s);j(a),o&&o(),I({title:"ê²½ê¸° ì‚­ì œ ì™„ë£Œ",description:"ê²½ê¸°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3,isClosable:!0})}catch(t){console.error("ê²½ê¸° ì‚­ì œ ì˜¤ë¥˜:",t),I({title:"ê²½ê¸° ì‚­ì œ ì‹¤íŒ¨",description:"ê²½ê¸° ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}}),N=()=>{p(s=>O(k({},s),{memberNames:[...s.memberNames,""]}))},F=s=>{i.memberNames.length>1&&p(t=>O(k({},t),{memberNames:t.memberNames.filter((n,a)=>a!==s)}))},te=(s,t)=>{p(n=>O(k({},n),{memberNames:n.memberNames.map((a,d)=>d===s?t:a)}))},A=s=>{if(s==null)return[];if(Array.isArray(s))return s.filter(t=>t&&typeof t=="string"&&t.trim()!=="");if(typeof s=="string")try{const t=JSON.parse(s);if(Array.isArray(t))return t.filter(n=>n&&typeof n=="string"&&n.trim()!=="")}catch(t){console.warn("parseMemberNames JSON íŒŒì‹± ì‹¤íŒ¨:",t)}return[]},z=()=>{const s=v.length,t=i.mercenaryCount,n=i.memberNames.filter(a=>a.trim()!=="").length;return t+s+n};Se.useEffect(()=>{},[i.mercenaryCount,i.memberNames]);const S=s=>G(null,null,function*(){if(s.trim()){K(!0);try{const t=yield fetch(`http://localhost:4000/api/auth/search-location?query=${encodeURIComponent(s)}`);if(t.ok){const n=yield t.json();V(n.documents||[]),Q(!0)}else I({title:"ê²€ìƒ‰ ì‹¤íŒ¨",description:"ì¥ì†Œ ê²€ìƒ‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}catch(t){console.error("ì¥ì†Œ ê²€ìƒ‰ ì˜¤ë¥˜:",t),I({title:"ê²€ìƒ‰ ì˜¤ë¥˜",description:"ì¥ì†Œ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}finally{K(!1)}}}),oe=s=>{p(t=>O(k({},t),{location:s.place_name})),T(s.place_name),Q(!1)},se=()=>G(null,null,function*(){if(!i.date||!i.location){I({title:"ì…ë ¥ ì˜¤ë¥˜",description:"ë‚ ì§œì™€ ì¥ì†Œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.",status:"error",duration:2e3,isClosable:!0});return}try{if(D){const s=O(k({},i),{eventType:i.eventType||"ìì²´",memberNames:i.memberNames.filter(x=>x.trim()!==""),selectedMembers:v}),t=localStorage.getItem("token")||localStorage.getItem("auth_token_backup")||sessionStorage.getItem("token");if(!t){I({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0});return}console.log("ğŸ” ê²½ê¸° ìˆ˜ì • ì‹œë„:",{gameId:D.id,tokenLength:t.length});const n=yield fetch(`http://localhost:4000/api/auth/games/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)});if(!n.ok)throw new Error("ê²½ê¸° ìˆ˜ì • ì‹¤íŒ¨");const a=yield n.json(),d=l.map(x=>x.id===D.id?k(k({},x),a):x);j(d),o&&o(),I({title:"ê²½ê¸° ìˆ˜ì • ì™„ë£Œ",description:"ê²½ê¸° ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3,isClosable:!0})}else{const s=O(k({},i),{eventType:i.eventType||"ìì²´",memberNames:i.memberNames.filter(d=>d.trim()!==""),selectedMembers:v,createdById:1}),t=localStorage.getItem("token")||localStorage.getItem("auth_token_backup")||sessionStorage.getItem("token");if(!t){I({title:"ì¸ì¦ ì˜¤ë¥˜",description:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0});return}console.log("ğŸ” ê²½ê¸° ì¶”ê°€ ì‹œë„:",{tokenLength:t.length});const n=yield fetch("http://localhost:4000/api/auth/games",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)});if(!n.ok)throw new Error("ê²½ê¸° ì¶”ê°€ ì‹¤íŒ¨");const a=yield n.json();j([...l,a]),o&&o(),I({title:"ê²½ê¸° ì¶”ê°€ ì™„ë£Œ",description:"ìƒˆ ê²½ê¸°ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.",status:"success",duration:2e3,isClosable:!0})}g()}catch(s){console.error("ê²½ê¸° ì €ì¥ ì˜¤ë¥˜:",s),I({title:"ì €ì¥ ì‹¤íŒ¨",description:"ê²½ê¸° ì •ë³´ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",status:"error",duration:3e3,isClosable:!0})}}),ae=s=>{switch(s){case"ìì²´":return"ìì²´";case"ë§¤ì¹˜":return"ë§¤ì¹˜";case"íšŒì‹":return"íšŒì‹";default:return"ìì²´"}};return e.jsxs(e.Fragment,{children:[e.jsxs(ne,{spacing:6,align:"stretch",children:[e.jsxs(M,{justify:"space-between",children:[e.jsxs(ne,{align:"start",spacing:2,children:[e.jsxs(M,{spacing:3,children:[e.jsx(m,{fontSize:"2xl",children:"âš½"}),e.jsx(m,{fontSize:"2xl",fontWeight:"bold",children:"ê²½ê¸° ê´€ë¦¬"})]}),e.jsx(m,{children:"ê²½ê¸° ì¼ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]}),e.jsx(y,{colorScheme:"blue",bg:"#004ea8",_hover:{bg:"#003d7a"},leftIcon:e.jsx(Ae,{}),onClick:B,size:"sm",children:"ì¶”ê°€"})]}),e.jsx(f,{bg:"white",border:"1px",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",children:(console.log("=== GameManagement - ë Œë”ë§ ì¡°ê±´ ì²´í¬ ==="),console.log("games:",l),console.log("games?.length:",l==null?void 0:l.length),console.log("games?.length === 0:",(l==null?void 0:l.length)===0),(l==null?void 0:l.length)===0?e.jsx(f,{p:6,textAlign:"center",children:e.jsxs(ke,{status:"info",children:[e.jsx(Me,{}),"ë“±ë¡ëœ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤."]})}):e.jsxs(We,{variant:"simple",children:[e.jsx(Ve,{bg:"gray.50",children:e.jsxs(we,{children:[e.jsx(Z,{textAlign:"center",children:"ë‚ ì§œ"}),e.jsx(Z,{textAlign:"center",children:"ì¥ì†Œ"}),e.jsx(Z,{textAlign:"center",children:"ì´ë²¤íŠ¸ ìœ í˜•"}),e.jsx(Z,{textAlign:"center",children:"ì „ì²´ ì¸ì›"}),e.jsx(Z,{textAlign:"center",children:"ìƒì„±ì"}),e.jsx(Z,{textAlign:"center",children:"ì‘ì—…"})]})}),e.jsx(Be,{children:l.map(s=>{var t;return e.jsxs(we,{bg:s.autoGenerated?"blue.50":"white",children:[e.jsx(ee,{textAlign:"center",children:e.jsxs(ne,{spacing:1,align:"center",children:[e.jsx(m,{fontWeight:"medium",children:(()=>{const n=new Date(s.date),a=n.getFullYear(),d=String(n.getMonth()+1).padStart(2,"0"),x=String(n.getDate()).padStart(2,"0"),H=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "][n.getDay()];return s.time?`${a}.${d}.${x}.(${H}) ${s.time}`:`${a}.${d}.${x}.(${H})`})()}),s.autoGenerated&&e.jsx(ie,{colorScheme:"blue",variant:"outline",size:"sm",children:"ìë™ìƒì„±"})]})}),e.jsx(ee,{textAlign:"center",children:e.jsx(m,{fontSize:"sm",color:"gray.600",children:s.location})}),e.jsx(ee,{textAlign:"center",children:e.jsx(ie,{colorScheme:s.eventType==="ë§¤ì¹˜"?"blue":s.eventType==="íšŒì‹"?"orange":"purple",variant:"subtle",children:ae(s.eventType||"ìì²´")})}),e.jsx(ee,{textAlign:"center",children:e.jsxs(ie,{colorScheme:"blackAlpha",variant:"subtle",children:[(()=>{const n=s.selectedMembers?Array.isArray(s.selectedMembers)?s.selectedMembers:JSON.parse(s.selectedMembers):[],a=A(s.memberNames),d=s.mercenaryCount||0;return n.length+a.length+d})(),"ëª…"]})}),e.jsx(ee,{textAlign:"center",children:e.jsx(m,{fontSize:"sm",color:"gray.600",children:((t=s.createdBy)==null?void 0:t.name)||"ì•Œ ìˆ˜ ì—†ìŒ"})}),e.jsx(ee,{textAlign:"center",children:e.jsxs(M,{spacing:2,justify:"center",children:[e.jsx(ge,{label:"ê²½ê¸° ìˆ˜ì •",placement:"top",hasArrow:!0,bg:"gray.700",color:"white",fontSize:"sm",children:e.jsx(me,{"aria-label":"ê²½ê¸° ìˆ˜ì •",icon:e.jsx(Fe,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>c(s)})}),e.jsx(ge,{label:"ê²½ê¸° ì‚­ì œ",placement:"top",hasArrow:!0,bg:"red.600",color:"white",fontSize:"sm",children:e.jsx(me,{"aria-label":"ê²½ê¸° ì‚­ì œ",icon:e.jsx(Ge,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>_(s.id)})})]})})]},s.id)})})]}))})]}),e.jsxs(ce,{isOpen:R,onClose:g,children:[e.jsx(de,{}),e.jsxs(he,{maxW:"500px",children:[e.jsx(je,{py:4,children:D?"âš½ ê²½ê¸° ìˆ˜ì •":"âš½ ê²½ê¸° ì¶”ê°€"}),e.jsx(Ee,{}),e.jsx(ue,{pb:4,children:e.jsxs(ne,{spacing:3,children:[e.jsxs(P,{children:[e.jsx(L,{children:"ğŸ“… ì¼ì‹œ & ì´ë²¤íŠ¸"}),e.jsxs(M,{spacing:4,align:"start",children:[e.jsx($,{type:"date",value:i.date,onChange:s=>p(O(k({},i),{date:s.target.value})),size:"md",h:"40px",flex:1}),e.jsxs(ve,{value:i.time||"",onChange:s=>p(O(k({},i),{time:s.target.value})),placeholder:"ì‹œê°„ ì„ íƒ",size:"md",h:"40px",flex:1,children:[e.jsx("option",{value:"18:00",children:"ì˜¤í›„ 6:00"}),e.jsx("option",{value:"18:30",children:"ì˜¤í›„ 6:30"}),e.jsx("option",{value:"19:00",children:"ì˜¤í›„ 7:00"}),e.jsx("option",{value:"19:30",children:"ì˜¤í›„ 7:30"}),e.jsx("option",{value:"20:00",children:"ì˜¤í›„ 8:00"}),e.jsx("option",{value:"20:30",children:"ì˜¤í›„ 8:30"})]}),e.jsxs(ve,{value:i.eventType,onChange:s=>p(O(k({},i),{eventType:s.target.value})),size:"md",h:"40px",flex:1,children:[e.jsx("option",{value:"ìì²´",children:"ìì²´"}),e.jsx("option",{value:"ë§¤ì¹˜",children:"ë§¤ì¹˜"}),e.jsx("option",{value:"íšŒì‹",children:"íšŒì‹"})]})]})]}),e.jsxs(P,{children:[e.jsx(L,{children:"ğŸ“ ì¥ì†Œ"}),e.jsxs(ne,{spacing:2,align:"stretch",children:[e.jsxs(M,{children:[e.jsx($,{value:q,onChange:s=>T(s.target.value),placeholder:"ì¥ì†Œëª…ì„ ê²€ìƒ‰í•˜ì„¸ìš”",onKeyPress:s=>s.key==="Enter"&&S(q)}),e.jsx(y,{onClick:()=>S(q),isLoading:E,colorScheme:"blue",size:"sm",children:"ê²€ìƒ‰"})]}),Y&&W.length>0&&e.jsx(f,{border:"1px solid",borderColor:"gray.200",borderRadius:"md",maxH:"200px",overflowY:"auto",bg:"white",zIndex:10,children:W.map((s,t)=>e.jsxs(f,{p:3,borderBottom:"1px solid",borderColor:"gray.100",cursor:"pointer",_hover:{bg:"gray.50"},onClick:()=>oe(s),children:[e.jsx(m,{fontWeight:"bold",children:s.place_name}),e.jsx(m,{fontSize:"sm",color:"gray.600",children:s.address_name})]},t))}),e.jsx($,{value:i.location,onChange:s=>p(O(k({},i),{location:s.target.value})),placeholder:"ì„ íƒëœ ì¥ì†Œ ë˜ëŠ” ì§ì ‘ ì…ë ¥"})]})]}),e.jsxs(P,{children:[e.jsxs(M,{justify:"space-between",align:"center",mb:2,children:[e.jsx(L,{mb:0,children:"ğŸ‘¥ ì¸ì› ê´€ë¦¬"}),e.jsx(f,{ml:4,children:e.jsxs(m,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:["ì „ì²´ ì¸ì›: ",z(),"ëª… (íšŒì› ",v.length,"ëª… + ìš©ë³‘ ",i.mercenaryCount,"ëª… + ìˆ˜ê¸°ì…ë ¥ ",i.memberNames.filter(s=>s.trim()!=="").length,"ëª…)"]})})]}),e.jsxs(M,{spacing:4,align:"start",children:[e.jsxs(f,{flex:1,children:[e.jsx(m,{fontSize:"sm",color:"gray.600",mb:2,fontWeight:"bold",children:"íšŒì› ì„ íƒ"}),e.jsx(f,{children:b.map((s,t)=>e.jsx(y,{size:"sm",variant:v.includes(s.name)?"solid":"outline",colorScheme:v.includes(s.name)?"blue":"gray",onClick:()=>{v.includes(s.name)?C(n=>n.filter(a=>a!==s.name)):C(n=>[...n,s.name])},mr:2,mb:t%4===3?2:0,children:s.name},s.id))})]}),e.jsxs(f,{flex:1,children:[e.jsx(m,{fontSize:"sm",color:"gray.600",mb:2,fontWeight:"bold",children:"ìš©ë³‘ & ìˆ˜ê¸° ì…ë ¥"}),e.jsxs(M,{spacing:4,align:"start",children:[e.jsxs(f,{flex:1,children:[e.jsx(m,{fontSize:"xs",color:"gray.500",mb:1,children:"ìš©ë³‘ ì¸ì›"}),e.jsx($,{type:"number",value:i.mercenaryCount,onChange:s=>p(O(k({},i),{mercenaryCount:parseInt(s.target.value)||0})),placeholder:"0",min:"0",size:"sm"})]}),e.jsxs(f,{flex:1,children:[e.jsx(m,{fontSize:"xs",color:"gray.500",mb:1,children:"ìˆ˜ê¸° ì…ë ¥"}),i.memberNames.map((s,t)=>e.jsxs(M,{mb:1,children:[e.jsx($,{value:s,onChange:n=>te(t,n.target.value),placeholder:`íŒ€ì› ${t+1} ì´ë¦„`,size:"sm"}),i.memberNames.length>1&&e.jsx(y,{size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>F(t),children:"ì‚­ì œ"})]},t)),e.jsx(y,{size:"sm",colorScheme:"blue",variant:"outline",onClick:N,leftIcon:e.jsx(Ae,{}),w:"100%",children:"íŒ€ì› ì¶”ê°€"})]})]})]})]})]}),e.jsxs(M,{spacing:3,w:"100%",children:[e.jsx(y,{colorScheme:"blue",onClick:se,flex:1,children:D?"ìˆ˜ì •":"ì¶”ê°€"}),e.jsx(y,{onClick:g,flex:1,children:"ì·¨ì†Œ"})]})]})})]})]})]})}export{vt as G,yt as H,pt as L,wt as M,xt as S};
