# 🧪 로컬 테스트 가이드

## 📋 테스트 전 준비사항

### 1. 환경 변수 확인
백엔드와 프론트엔드의 `.env` 파일이 올바르게 설정되어 있는지 확인하세요.

#### 백엔드 (backend/.env)
```env
DATABASE_URL="file:./dev.db"  # 또는 PostgreSQL URL
JWT_SECRET="your-secret-key"
PORT=3000
NODE_ENV=development
```

#### 프론트엔드 (frontend/.env)
```env
VITE_API_BASE_URL=http://localhost:3000
```

### 2. 의존성 설치 확인
```bash
# 백엔드
cd backend
npm install

# 프론트엔드
cd frontend
npm install
```

### 3. 데이터베이스 마이그레이션
```bash
cd backend
npx prisma migrate dev
npx prisma generate
```

## 🚀 테스트 실행 방법

### 방법 1: 터미널 2개 사용 (권장)

**터미널 1 - 백엔드:**
```bash
cd backend
npm run dev
```
백엔드가 `http://localhost:3000`에서 실행됩니다.

**터미널 2 - 프론트엔드:**
```bash
cd frontend
npm run dev
```
프론트엔드가 `http://localhost:5173` (또는 다른 포트)에서 실행됩니다.

### 방법 2: 백그라운드 실행
```bash
# 백엔드 백그라운드 실행
cd backend && npm run dev &

# 프론트엔드 실행
cd frontend && npm run dev
```

## ✅ 테스트 체크리스트

### 기본 기능 테스트

#### 1. 인증 기능
- [ ] **회원가입**
  - 새 계정 생성
  - 이메일 형식 검증 작동 확인
  - 비밀번호 최소 길이 검증 확인
  - 중복 이메일 방지 확인

- [ ] **로그인**
  - 정상 로그인
  - 잘못된 비밀번호 시도 (Rate Limiting 확인)
  - 토큰 저장 확인

- [ ] **로그아웃**
  - 정상 로그아웃
  - 토큰 삭제 확인

#### 2. 홈 대시보드 (MainDashboard)
- [ ] 페이지 로딩 확인
- [ ] 통계 데이터 표시 (총 멤버, 경기수 등)
- [ ] 유튜브 영상 재생 확인
- [ ] 명언 표시 확인
- [ ] 하단 카드 클릭 시 모달 열림 확인
  - 총 멤버 모달
  - 이번주 경기 모달
  - 총 경기수 모달
  - 다음주 경기 투표하기 모달

#### 3. 투표 기능
- [ ] 투표 세션 생성 확인 (매주 월요일 00:01)
- [ ] 투표 참여 기능
- [ ] 투표 결과 확인
- [ ] 투표 현황 요약 표시

#### 4. 일정 관리
- [ ] 달력 표시 확인
- [ ] 경기 생성
- [ ] 경기 수정
- [ ] 경기 삭제
- [ ] 참석자 선택 기능

#### 5. 회원 관리 (관리자)
- [ ] 회원 목록 조회
- [ ] 회원 추가
- [ ] 회원 수정
- [ ] 회원 삭제/비활성화

#### 6. 갤러리
- [ ] 이미지 업로드
- [ ] 이미지 목록 표시
- [ ] 이미지 삭제

### 보안 기능 테스트

#### Rate Limiting 확인
- [ ] 일반 API: 15분에 100회 이상 요청 시 제한 확인
- [ ] 로그인/회원가입: 15분에 5회 이상 시도 시 제한 확인
- [ ] 제한 시 적절한 에러 메시지 표시

#### 보안 헤더 확인
브라우저 개발자 도구 > Network 탭에서 응답 헤더 확인:
- [ ] `X-Content-Type-Options: nosniff`
- [ ] `X-Frame-Options: DENY`
- [ ] `X-XSS-Protection: 1; mode=block`

### 성능 테스트

#### 백엔드 성능
- [ ] 경기 생성/수정 시 응답 시간 확인 (N+1 문제 해결 확인)
- [ ] 데이터베이스 연결 안정성 확인

#### 프론트엔드 성능
- [ ] 초기 페이지 로딩 시간
- [ ] 코드 스플리팅 작동 확인 (Network 탭에서 청크 파일 확인)
- [ ] 이미지 로딩 최적화 확인

### 에러 처리 테스트

- [ ] 네트워크 오류 시 적절한 에러 메시지 표시
- [ ] 인증 실패 시 로그인 페이지로 리다이렉트
- [ ] 404 페이지 표시
- [ ] 콘솔에 에러 없음 확인

## 🔍 테스트 중 확인사항

### 브라우저 콘솔 확인
1. 개발자 도구 열기 (F12)
2. Console 탭 확인
   - 에러 메시지 없음
   - 경고 메시지 최소화
   - 로그 메시지 정상 출력

### Network 탭 확인
1. Network 탭 열기
2. 페이지 새로고침
3. API 요청 확인:
   - 모든 요청이 성공 (200, 201 등)
   - 실패한 요청 없음
   - 응답 시간 적절함

### 데이터베이스 확인
```bash
# SQLite 사용 시
cd backend
sqlite3 dev.db
.tables
SELECT * FROM Member LIMIT 5;
SELECT * FROM Game LIMIT 5;
```

## 🐛 문제 발생 시 확인사항

### 백엔드가 시작되지 않는 경우
1. 포트 3000이 이미 사용 중인지 확인
2. 환경 변수 설정 확인
3. 데이터베이스 연결 확인
4. `npm install` 다시 실행

### 프론트엔드가 시작되지 않는 경우
1. 포트 충돌 확인
2. `node_modules` 삭제 후 재설치
3. 환경 변수 확인

### API 요청 실패 시
1. 백엔드가 실행 중인지 확인
2. CORS 설정 확인
3. 인증 토큰 확인
4. API 엔드포인트 URL 확인

### 데이터가 표시되지 않는 경우
1. 데이터베이스에 데이터가 있는지 확인
2. API 응답 확인 (Network 탭)
3. 프론트엔드 상태 관리 확인

## 📊 테스트 결과 기록

테스트 완료 후 아래 항목을 기록하세요:

```
테스트 날짜: ___________
테스터: ___________

✅ 성공한 기능:
- 

❌ 실패한 기능:
- 

⚠️ 발견된 문제:
- 

💡 개선 제안:
- 
```

## 🎯 다음 단계

로컬 테스트가 완료되면:
1. 모든 기능이 정상 작동하는지 확인
2. 발견된 문제 수정
3. 배포 준비 (DEPLOYMENT_GUIDE.md 참고)

---

**마지막 업데이트**: 2025년 1월 27일

