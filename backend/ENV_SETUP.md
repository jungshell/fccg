# 🔧 백엔드 환경변수 설정 가이드

## 📋 개요
이 가이드는 FC CHAL GGYEO 백엔드 서버의 환경변수 설정 방법을 설명합니다.

## 🚀 1단계: .env 파일 생성

백엔드 루트 디렉토리에 `.env` 파일을 생성하고 다음 내용을 추가하세요:

```bash
# Gmail 이메일 알림 설정
GMAIL_USER=sti60val@gmail.com
GMAIL_APP_PASSWORD=your-gmail-app-password-here

# 데이터베이스 설정
DATABASE_URL="file:./dev.db"

# JWT 시크릿 키
JWT_SECRET=your-jwt-secret-key-here

# 서버 포트
PORT=4000

# 개발 환경 설정
NODE_ENV=development
```

## 📧 2단계: Gmail 앱 비밀번호 설정

### 2.1 Gmail 2단계 인증 활성화
1. Google 계정 설정 → 보안
2. "2단계 인증" 활성화

### 2.2 앱 비밀번호 생성
1. Google 계정 설정 → 보안 → 앱 비밀번호
2. "앱 선택" → "기타(맞춤 이름)" 선택
3. "FC CHAL GGYEO" 입력
4. 생성된 16자리 비밀번호를 `.env` 파일의 `GMAIL_APP_PASSWORD`에 입력

## 🔐 3단계: JWT 시크릿 키 설정

안전한 JWT 시크릿 키를 생성하세요:

```bash
# Node.js에서 생성
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
```

생성된 키를 `.env` 파일의 `JWT_SECRET`에 입력하세요.

## ✅ 4단계: 설정 확인

### 4.1 서버 재시작
```bash
cd backend
npm run dev
```

### 4.2 로그 확인
서버 시작 시 다음과 같은 로그가 표시되어야 합니다:
```
서버가 4000번 포트에서 실행 중
```

### 4.3 이메일 알림 테스트
관리자 페이지에서 경기 일정을 확정하면 이메일이 발송됩니다.

## 🔒 5단계: 보안 고려사항

### 5.1 .env 파일 보안
- `.env` 파일을 절대 Git에 커밋하지 마세요
- `.gitignore`에 `.env`가 포함되어 있는지 확인하세요

### 5.2 프로덕션 환경
프로덕션 환경에서는 환경변수를 서버 설정에서 직접 관리하세요.

## 🧪 6단계: 테스트

### 6.1 이메일 알림 테스트
1. 관리자 페이지 → 경기 관리
2. 자동생성된 경기 일정 확정
3. 참석자들에게 이메일 발송 확인

### 6.2 오류 해결
만약 이메일 발송이 실패하면:
1. Gmail 앱 비밀번호가 올바른지 확인
2. 2단계 인증이 활성화되어 있는지 확인
3. 서버 로그에서 오류 메시지 확인

## 📞 지원

문제가 발생하면:
1. 백엔드 콘솔 로그 확인
2. Gmail 계정 보안 설정 확인
3. 네트워크 연결 상태 확인

**🎉 환경변수 설정이 완료되면 이메일 알림이 정상적으로 작동합니다!**

